<!DOCTYPE html>
<html lang="th" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS50x: The Genesis (ฉบับเจาะลึก)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        dark: {
                            900: '#0f172a',
                            800: '#1e293b',
                            700: '#334155',
                            600: '#475569',
                        },
                        primary: {
                            500: '#3b82f6',
                            600: '#2563eb',
                        },
                        accent: {
                            500: '#8b5cf6',
                            600: '#7c3aed',
                        }
                    },
                    fontFamily: {
                        'sarabun': ['Sarabun', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        * {
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        body {
            font-family: 'Sarabun', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            min-height: 100vh;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-weight: 600;
            color: #f1f5f9;
        }
        
        .content-card {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.7) 0%, rgba(30, 41, 59, 0.9) 100%);
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(100, 116, 139, 0.2);
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
        }
        
        .gradient-header {
            background: linear-gradient(90deg, #3b82f6 0%, #8b5cf6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
        }
        
        .code-block {
            background: linear-gradient(145deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 0.75rem;
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 0.95em;
            white-space: pre;
            word-break: break-all;
            line-height: 1.6;
            border: 1px solid rgba(100, 116, 139, 0.3);
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.5);
            overflow-x: auto;
        }
        
        .code-keyword, .keyword-glossary {
            color: #60a5fa;
            font-weight: bold;
        }
        
        .keyword-glossary {
            border-bottom: 1px dotted #60a5fa;
            cursor: pointer;
            white-space: normal;
            transition: all 0.2s ease;
        }
        
        .keyword-glossary:hover {
            color: #93c5fd;
            border-bottom: 1px solid #93c5fd;
        }
        
        .code-function {
            color: #a78bfa;
        }
        
        .code-comment {
            color: #94a3b8;
            font-style: italic;
        }
        
        .code-string {
            color: #a3e635;
        }
        
        .code-placeholder {
            color: #fbbf24;
            font-weight: bold;
        }
        
        .highlight-code {
            background-color: rgba(56, 189, 248, 0.1);
            display: block;
            margin: 0 -1.5rem;
            padding: 0 1.5rem;
            border-left: 4px solid #60a5fa;
        }
        
        .tab-button {
            padding: 0.75rem 1.25rem;
            font-size: 0.875rem;
            font-weight: 600;
            color: #cbd5e1;
            background-color: rgba(30, 41, 59, 0.7);
            border: 1px solid #475569;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .tab-button:not(.active):hover {
            background-color: rgba(51, 65, 85, 0.7);
        }
        
        .tab-button.active {
            background: linear-gradient(90deg, #3b82f6 0%, #8b5cf6 100%);
            color: white;
            border-color: transparent;
        }
        
        .tab-button:first-child {
            border-top-left-radius: 0.5rem;
            border-bottom-left-radius: 0.5rem;
        }
        
        .tab-button:last-child {
            border-top-right-radius: 0.5rem;
            border-bottom-right-radius: 0.5rem;
        }
        /* เพิ่มในส่วน style */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .animate-shake {
            animation: shake 0.3s ease-in-out;
        }

        .input-field.border-red-500 {
            border-color: #ef4444;
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.3);
        }

        /* ==================== */
        /* Global Light Styles */
        /* ==================== */
        body.light-mode {
            /* เพิ่มความเข้มของตัวอักษรหลัก */
            color: #334155;
        }

        body.light-mode h1, 
        body.light-mode h2, 
        body.light-mode h3, 
        body.light-mode h4, 
        body.light-mode h5, 
        body.light-mode h6 {
            color: #0f172a;
        }

        body.light-mode .text-slate-400 {
            color: #64748b;
        }


        body.light-mode .text-slate-200 {
            color: #334155;
        }

        /* ==================== */
        /* Components */
        /* ==================== */

        /* Progress Bar */
        body.light-mode .progress-bar {
            background: linear-gradient(90deg, #1e40af 0%, #7c3aed 100%);
        }

        /* Content Cards */
        body.light-mode .content-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%) !important;
            border: 1px solid #cbd5e1 !important;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.03) !important;
        }

        /* Headers */
        body.light-mode .gradient-header {
            background: linear-gradient(90deg, #1e40af 0%, #7c3aed 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
        }

        /* Code Blocks */
        body.light-mode .code-block {
            background: linear-gradient(145deg, #f1f5f9 0%, #e2e8f0 100%) !important;
            color: #1e293b !important;
            border: 1px solid #cbd5e1 !important;
        }

        body.light-mode .code-keyword, 
        body.light-mode .keyword-glossary {
            color: #1e40af !important; /* สีน้ำเงินเข้ม */
            font-weight: 600;
        }

        body.light-mode .keyword-glossary:hover {
            color: #3b82f6 !important;
        }

        body.light-mode .code-function {
            color: #7c3aed !important;
        }

        body.light-mode .code-comment {
            color: #64748b !important;
        }

        body.light-mode .code-string {
            color: #15803d !important;
        }

        body.light-mode .code-placeholder {
            color: #b45309 !important;
        }

        /* Buttons */
        body.light-mode .btn-primary {
            background: linear-gradient(90deg, #1e40af 0%, #7c3aed 100%);
            color: white;
            box-shadow: 0 4px 6px rgba(30, 64, 175, 0.1);
        }

        body.light-mode .btn-primary:hover {
            box-shadow: 0 6px 8px rgba(30, 64, 175, 0.15);
        }

        body.light-mode .tab-button {
            color: #475569;
            background-color: rgba(241, 245, 249, 0.7);
            border: 1px solid #cbd5e1;
        }

        body.light-mode .tab-button.active {
            background: linear-gradient(90deg, #1e40af 0%, #7c3aed 100%);
            color: white;
        }

        /* Forms */
        body.light-mode .input-field {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid #cbd5e1;
            color: #1e293b;
        }

        body.light-mode .input-field:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        /* Floating Buttons */
        body.light-mode .floating-btn {
            background: linear-gradient(135deg, #1e40af 0%, #7c3aed 100%);
            color: white;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        /* ==================== */
        /* Sections */
        /* ==================== */

        /* Sidebar */
        body.light-mode .bg-dark-800 {
            background-color: #f1f5f9 !important;
            border-color: #cbd5e1 !important;
        }

        body.light-mode .bg-dark-700 {
            background-color: #e2e8f0 !important;
        }

        body.light-mode .bg-dark-600 {
            border-color: #cbd5e1 !important;
        }

        body.light-mode .text-primary-500 {
            color: #1e40af;
        }

        body.light-mode .nav-link {
            color: #334155 !important;
            border-left: 4px solid transparent;
        }

        body.light-mode .nav-link:hover {
            color: #0f172a !important; /* สีเข้มสุดเมื่อโฮเวอร์ */
            background: rgba(226, 232, 240, 0.9) !important;
        }

        body.light-mode .nav-link.active {
            background: linear-gradient(90deg, rgba(30, 64, 175, 0.1) 0%, rgba(124, 58, 237, 0.1) 100%) !important;
            color: #1e40af !important;
            border-left: 4px solid #1e40af !important;
        }

        /* Section Icons */
        /* เปลี่ยนสี section-icon ใน light mode */
        body.light-mode .section-icon {
            background: linear-gradient(135deg, #1e40af 0%, #4338ca 100%) !important;
        }

        /* ======== แก้ไขบทที่ 2 ใน Light Mode ======== */

        /* กล่อง Compiled Language และ Interpreted Language */
        body.light-mode #c-basics .interactive-card h4 {
            color: #1e40af !important; /* สีน้ำเงินเข้ม */
        }

        body.light-mode #c-basics .interactive-card p {
            color: #334155 !important; /* สีเทาเข้ม */
        }

        /* กล่องคุณสมบัติ (ภาษาเครื่อง, ความเร็ว, การพกพา) */
        body.light-mode #c-basics .bg-dark-700 {
            background-color: #f1f5f9 !important; /* พื้นหลังสว่าง */
        }

        body.light-mode #c-basics .bg-dark-700 p {
            color: #0f172a !important; /* สีดำเข้ม */
        }

        body.light-mode #c-basics .bg-dark-700 .font-semibold {
            color: #1e40af !important; /* สีน้ำเงินเข้ม */
        }

        /* กล่องเหตุผลที่ C ทำงานเร็ว */
        body.light-mode #c-basics .bg-amber-900 {
            background-color: #fffbeb !important; /* พื้นหลังสีอำพันอ่อน */
        }

        body.light-mode #c-basics .text-amber-200 {
            color: #92400e !important; /* สีน้ำตาลเข้ม */
        }

        /* เพิ่มความเข้มให้หัวข้อในกล่องเหตุผล */
        body.light-mode #c-basics .font-bold {
            color: #b45309 !important;
        }

        /* ข้อความใน code block */
        body.light-mode #c-basics .text-blue-300 {
            color: #1d4ed8 !important; /* สีน้ำเงินเข้ม */
        }

        body.light-mode #c-basics .text-purple-300 {
            color: #6d28d9 !important; /* สีม่วงเข้ม */
        }

        /* Interactive Cards */
        body.light-mode .interactive-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%) !important;
            border: 1px solid #cbd5e1 !important;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05) !important;
        }

        /* Glossary Modal */
        body.light-mode #glossary-modal {
            background: linear-gradient(145deg, #f1f5f9 0%, #e2e8f0 100%) !important;
            border: 1px solid #cbd5e1 !important;
        }

        /* ======== แก้ไขบทที่ 4 ใน Light Mode ======== */

        /* หัวข้อกล่อง */
        body.light-mode #c-calculator .interactive-card h5 {
            color: #0f172a !important; /* สีดำเข้ม */
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        /* กล่องการแปลงโดยอัตโนมัติ */
        body.light-mode #c-calculator .bg-blue-900 {
            background-color: #dbeafe !important; /* พื้นหลังสีฟ้าอ่อน */
            border: 1px solid #93c5fd !important; /* เส้นขอบ */
        }

        body.light-mode #c-calculator .text-blue-300 {
            color: #1e40af !important; /* สีน้ำเงินเข้ม */
            font-weight: 600;
        }

        /* กล่องการแปลงที่อาจสูญเสียข้อมูล */
        body.light-mode #c-calculator .bg-amber-900 {
            background-color: #fffbeb !important; /* พื้นหลังสีเหลืองอ่อน */
            border: 1px solid #fbbf24 !important; /* เส้นขอบ */
        }

        body.light-mode #c-calculator .text-amber-300 {
            color: #b45309 !important; /* สีน้ำตาลเข้ม */
            font-weight: 600;
        }

        /* รายการในกล่อง */
        body.light-mode #c-calculator .text-blue-200,
        body.light-mode #c-calculator .text-amber-200 {
            color: #334155 !important; /* สีเทาเข้ม */
            font-weight: 500;
        }

        /* เพิ่มความเข้มให้รายการ */
        body.light-mode #c-calculator ul.text-sm li {
            color: #0f172a !important; /* สีดำเข้ม */
            margin-bottom: 0.4rem;
        }

        /* เพิ่มระยะห่างระหว่างรายการ */
        body.light-mode #c-calculator .space-y-1 li {
            margin-bottom: 0.5rem;
        }

        body.light-mode #c-conditionals .bg-amber-900 {
            background-color: #fffbeb !important; /* พื้นหลังสีอำพันอ่อน */
            border-left: 4px solid #f59e0b !important; /* เส้นขอบสีส้มเข้ม */
        }

        body.light-mode #c-conditionals .interactive-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%) !important;
            border: 1px solid #e2e8f0 !important;
        }

        body.light-mode #c-conditionals .bg-dark-800 {
            background-color: #f8fafc !important;
            border: 1px solid #e2e8f0 !important;
        }

        /* ปรับสีระดับภาพยนตร์ในโหมดสว่าง */
        body.light-mode #c-conditionals .bg-blue-900 {
            background-color: #dbeafe !important;
            border-color: #93c5fd !important;
        }

        body.light-mode #c-conditionals .bg-amber-900 {
            background-color: #fffbeb !important;
            border-color: #fcd34d !important;
        }

        body.light-mode #c-conditionals .bg-red-900 {
            background-color: #fee2e2 !important;
            border-color: #fca5a5 !important;
        }

        body.light-mode #c-conditionals .text-blue-400 {
            color: #1d4ed8 !important;
        }

        body.light-mode #c-conditionals .text-amber-400 {
            color: #b45309 !important;
        }

        body.light-mode #c-conditionals .text-red-400 {
            color: #b91c1c !important;
        }

        /* ปรับส่วนแสดงผลการตัดสินใจ */
        body.light-mode #c-conditionals #decision-output .text-green-400 {
            color: #166534 !important;
            font-weight: 600;
        }

        body.light-mode #c-conditionals #decision-output .text-red-400 {
            color: #b91c1c !important;
            font-weight: 600;
        }

        /* ปรับส่วนแสดงโค้ดจำลอง */
        body.light-mode #c-conditionals #code-simulation {
            background-color: #f1f5f9 !important;
            border: 1px solid #cbd5e1 !important;
            color: #1e293b !important;
            padding: 1rem;
            border-radius: 0.5rem;
            font-family: 'Fira Code', monospace;
        }

        body.light-mode #c-conditionals .text-amber-300 {
            color: #b45309 !important; /* สีน้ำตาลเข้มสำหรับหัวข้อ */
            font-weight: 700; /* ทำให้ตัวหนาขึ้น */
        }

        body.light-mode #c-conditionals .text-amber-200 {
            color: #7c2d12 !important; /* สีน้ำตาลเข้มกว่าสำหรับเนื้อหา */
        }

        body.light-mode #c-conditionals code.bg-amber-900 {
            background-color: #fef3c7 !important; /* พื้นหลังโค้ดสีอำพันอ่อน */
            color: #7c2d12 !important; /* ข้อความโค้ดสีเข้ม */
            border: 1px solid #fbbf24 !important; /* เส้นขอบโค้ด */
            font-weight: 600; /* ตัวหนา */
        }

        /* Footer */
        body.light-mode .border-t {
            border-color: #cbd5e1 !important;
        }

        /* ==================== */
        /* Utility Classes */
        /* ==================== */
        body.light-mode .bg-primary-500 { background-color: #1e40af !important; }
        body.light-mode .bg-accent-500 { background-color: #7c3aed !important; }
        body.light-mode .bg-green-500 { background-color: #059669 !important; }
        body.light-mode .bg-yellow-400 { background-color: #f59e0b !important; }
        body.light-mode .bg-blue-400 { background-color: #60a5fa !important; }
        body.light-mode .bg-purple-400 { background-color: #a78bfa !important; }

        body.light-mode .text-primary-400 { color: #3b82f6 !important; }
        body.light-mode .text-accent-400 { color: #8b5cf6 !important; }
        body.light-mode .text-green-400 { color: #10b981 !important; }
        body.light-mode .text-amber-400 { color: #f59e0b !important; }
        body.light-mode .text-red-400 { color: #ef4444 !important; }
        body.light-mode .text-blue-400 { color: #60a5fa !important; }

        body.light-mode .border-dark-600 { border-color: #cbd5e1 !important; }
        body.light-mode .border-dark-700 { border-color: #e2e8f0 !important; }

        /* ==================== */
        /* Special Components */
        /* ==================== */

        /* Algorithm Example (บทที่ 1) */
        body.light-mode #intro .interactive-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%) !important;
        }

        body.light-mode #intro .bg-dark-700 {
            background-color: #e2e8f0 !important;
        }

        body.light-mode #intro .bg-dark-800 {
            background-color: #f1f5f9 !important;
        }

        body.light-mode #intro .bg-primary-500 {
            background-color: #1e40af !important;
        }

        /* Type Casting (บทที่ 4) */
        body.light-mode #c-calculator .interactive-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%) !important;
        }

        /* Decision Making (บทที่ 5) */
        body.light-mode #c-conditionals .interactive-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%) !important;
        }

        body.light-mode #c-loops .bg-red-900 {
            background-color: #fee2e2 !important; /* พื้นหลังสีแดงอ่อน */
            border-left: 4px solid #ef4444 !important; /* เส้นขอบสีแดงเข้ม */
        }

        body.light-mode #c-loops .text-red-300,
        body.light-mode #c-loops .text-red-200 {
            color: #b91c1c !important; /* สีแดงเข้มสำหรับข้อความ */
        }

        body.light-mode #c-loops .bg-dark-700,
        body.light-mode #c-loops .bg-dark-800 {
            background-color: #f8fafc !important; /* สีพื้นหลังอ่อน */
        }

        body.light-mode #c-loops .bg-red-900 {
            background-color: #fee2e2 !important;
            border-left: 4px solid #ef4444 !important;
        }

        body.light-mode #c-loops .text-red-300,
        body.light-mode #c-loops .text-red-200 {
            color: #b91c1c !important;
        }

        /* ห้องทดลองลูป */
        body.light-mode #c-loops .interactive-card {
            background: #ffffff !important;
            border: 1px solid #e2e8f0 !important;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05) !important;
        }

        body.light-mode #c-loops .bg-dark-700,
        body.light-mode #c-loops .bg-dark-800 {
            background-color: #f8fafc !important;
        }

        body.light-mode #c-loops .text-slate-300 {
            color: #334155 !important;
        }

        body.light-mode #c-loops .loop-type-btn.active {
            background: linear-gradient(90deg, #1e40af 0%, #7c3aed 100%) !important;
            color: white !important;
        }

        body.light-mode #c-loops #break-btn.active {
            background-color: #ef4444 !important;
            border-color: #f87171;
            color: white !important;
        }

        body.light-mode #c-loops #continue-btn.active {
            background-color: #3b82f6 !important;
            border-color: #60a5fa;
            color: white !important;
        }

        /* Visualization */
        body.light-mode #c-loops .bg-blue-800\/30 {
            background-color: #dbeafe !important;
        }

        body.light-mode #c-loops .bg-green-800\/30 {
            background-color: #dcfce7 !important;
        }

        body.light-mode #c-loops .bg-yellow-800\/50 {
            background-color: #fef3c7 !important;
        }

        body.light-mode #c-loops .bg-red-800\/50 {
            background-color: #fee2e2 !important;
        }

        /* ตารางเปรียบเทียบ */
        body.light-mode #c-loops table {
            border-color: #cbd5e1 !important;
        }

        body.light-mode #c-loops th,
        body.light-mode #c-loops td {
            color: #1e293b !important;
            border-color: #e2e8f0 !important;
        }

        body.light-mode #c-loops .text-slate-300 {
            color: #334155 !important; /* สีเทาเข้ม */
        }

        body.light-mode #c-loops .loop-type-btn.active {
            background: linear-gradient(90deg, #1e40af 0%, #7c3aed 100%) !important;
            color: white !important;
        }

        body.light-mode #c-loops #break-btn.active {
            background-color: #ef4444 !important;
            border-color: #f87171;
            color: white !important;
        }

        body.light-mode #c-loops #continue-btn.active {
            background-color: #3b82f6 !important;
            border-color: #60a5fa;
            color: white !important;
        }

        body.light-mode #c-loops .bg-blue-800\/30 {
            background-color: #dbeafe !important; /* สีฟ้าอ่อน */
        }

        body.light-mode #c-loops .bg-green-800\/30 {
            background-color: #dcfce7 !important; /* สีเขียวอ่อน */
        }

        body.light-mode #c-loops .bg-yellow-800\/50 {
            background-color: #fef3c7 !important; /* สีเหลืองอ่อน */
        }

        body.light-mode #c-loops .bg-red-800\/50 {
            background-color: #fee2e2 !important; /* สีแดงอ่อน */
        }

        body.light-mode #c-loops table {
            border-color: #cbd5e1 !important;
        }

        body.light-mode #c-loops th,
        body.light-mode #c-loops td {
            color: #1e293b !important; /* สีดำเข้ม */
            border-color: #e2e8f0 !important;
        }

        /* Loops (บทที่ 6) */
        body.light-mode #c-loops .interactive-card {
            background: #ffffff !important; /* พื้นหลังขาว */
            border: 1px solid #e2e8f0 !important; /* เส้นขอบสีเทาอ่อน */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05) !important;
        }

        /* ==================== */
        /* Animation & Effects */
        /* ==================== */

        /* สีพิเศษสำหรับ Loop Highlight */
        .text-loop-highlight {
            color: #cadcff; /* สีฟ้าอ่อนๆ */
        }

        body.light-mode .text-loop-highlight {
            color: #3e64d3; /* สีน้ำเงินสำหรับ Light Mode */
        }
        body.light-mode .keyword-glossary {
            border-bottom: 1px dotted #1e40af;
        }

        body.light-mode .keyword-glossary:hover {
            border-bottom: 1px solid #3b82f6;
        }

        body.light-mode .content-card:hover {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.08), 0 10px 10px -5px rgba(0, 0, 0, 0.03) !important;
        }

        /* เพิ่มในส่วน light mode CSS */
        body.light-mode .bg-dark-800 {
            background-color: #f1f5f9 !important;
            border-color: #cbd5e1 !important;
        }

        body.light-mode .bg-dark-700 {
            background-color: #e2e8f0 !important;
        }

        body.light-mode .bg-dark-600 {
            border-color: #cbd5e1 !important;
        }

        body.light-mode .text-primary-500 {
            color: #1e40af;
        }

        body.light-mode .nav-link {
            color: #475569;
            border-left: 4px solid transparent;
        }

        body.light-mode .nav-link i {
            color: #1e40af !important; /* สีน้ำเงินเข้ม */
        }

        body.light-mode .nav-link:hover {
            background: rgba(226, 232, 240, 0.7);
            color: #0f172a;
        }

        body.light-mode .nav-link.active {
            background: linear-gradient(90deg, rgba(30, 64, 175, 0.1) 0%, rgba(124, 58, 237, 0.1) 100%);
            color: #1e40af;
            border-left: 4px solid #1e40af;
        }

        body.light-mode .section-icon {
            background: linear-gradient(135deg, #1e40af 0%, #7c3aed 100%);
        }

        body.light-mode .text-slate-400 {
            color: #64748b;
        }

        body.light-mode .text-slate-300,
        body.light-mode .text-slate-400 {
            color: #475569 !important; /* สีเข้มขึ้น */
        }

        body.light-mode .interactive-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.9) 0%, rgba(241, 245, 249, 0.9) 100%);
            border: 1px solid #cbd5e1;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        body.light-mode .interactive-card h3,
        body.light-mode .interactive-card h4 {
            color: #1e293b;
        }

        /* สไตล์เฉพาะบทที่ 1 ใน light mode */
        body.light-mode #intro .content-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%);
        }

        body.light-mode #intro .interactive-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(241, 245, 249, 0.95) 100%);
            border: 1px solid #e2e8f0;
        }

        body.light-mode #intro .bg-dark-700 {
            background-color: #e2e8f0 !important;
        }

        body.light-mode #intro .bg-dark-800 {
            background-color: #f1f5f9 !important;
        }

        body.light-mode #intro .bg-primary-500 {
            background-color: #1e40af !important;
        }

        body.light-mode #intro .bg-accent-500 {
            background-color: #7c3aed !important;
        }

        body.light-mode #intro .bg-green-500 {
            background-color: #059669 !important;
        }

        body.light-mode #intro .text-slate-100 {
            color: #0f172a;
        }

        body.light-mode #intro .text-primary-500 {
            color: #1e40af;
        }

        body.light-mode #intro .text-accent-500 {
            color: #7c3aed;
        }

        body.light-mode #intro .text-amber-400 {
            color: #d97706;
        }

        body.light-mode #intro .text-lime-400 {
            color: #65a30d;
        }

        body.light-mode #intro .bg-blue-900 {
            background-color: #dbeafe !important;
        }

        body.light-mode #intro .border-blue-700 {
            border-color: #93c5fd !important;
        }

        body.light-mode #intro .text-blue-300 {
            color: #1e40af;
        }

        body.light-mode #intro .bg-amber-900 {
            background-color: #fef3c7 !important;
        }

        body.light-mode #intro .border-amber-400 {
            border-color: #fbbf24 !important;
        }

        body.light-mode #intro .text-amber-200 {
            color: #92400e;
        }

        body.light-mode #intro .bg-dark-900 {
            background-color: #e2e8f0 !important;
        }

        body.light-mode #intro .bg-primary-900 {
            background-color: #dbeafe !important;
        }

        body.light-mode #intro .border-primary-700 {
            border-color: #93c5fd !important;
        }

        body.light-mode #intro .text-primary-200 {
            color: #1e40af;
        }

        /* สไตล์สำหรับส่วน Algorithm ในบทที่ 1 */
        body.light-mode #intro .bg-amber-900 {
            background-color: #fffbeb !important;
        }

        body.light-mode #intro .text-amber-300 {
            color: #b45309;
        }

        /* เพิ่มสไตล์เฉพาะสำหรับตัวอย่าง Algorithm ในบทที่ 1 */
        body.light-mode #intro .bg-dark-800 {
            background-color: #f8fafc !important;
        }

        body.light-mode #intro .bg-dark-700 {
            background-color: #f1f5f9 !important;
        }

        body.light-mode #intro .border-dark-600 {
            border-color: #e2e8f0 !important;
        }

        body.light-mode #intro .text-amber-300 {
            color: #b45309;
        }

        body.light-mode #intro .bg-amber-900 {
            background-color: #fffbeb !important;
        }

        body.light-mode #intro .border-amber-400 {
            border-color: #fbbf24 !important;
        }

        body.light-mode #intro .text-green-400 {
            color: #059669;
        }

        body.light-mode #intro pre {
            background-color: #f1f5f9 !important;
            color: #1e293b !important;
            border: 1px solid #cbd5e1 !important;
        }

        body.light-mode #intro .bg-primary-900 {
            background-color: #dbeafe !important;
        }

        body.light-mode #intro .border-primary-700 {
            border-color: #93c5fd !important;
        }

        body.light-mode #intro .text-primary-200 {
            color: #1e40af;
        }
        
        #glossary-modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 99;
            display: none;
            backdrop-filter: blur(5px);
        }
        
        #glossary-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(145deg, #1e293b 0%, #0f172a 100%);
            padding: 2.5rem;
            border-radius: 1rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            width: 90%;
            max-width: 500px;
            z-index: 100;
            display: none;
            border: 1px solid rgba(100, 116, 139, 0.3);
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            color: #cbd5e1;
            transition: all 0.2s ease;
            margin-bottom: 0.5rem;
        }
        
        .nav-link:hover {
            background: rgba(30, 41, 59, 0.7);
            color: #f1f5f9;
        }
        
        .nav-link.active {
            background: linear-gradient(90deg, rgba(59, 130, 246, 0.3) 0%, rgba(139, 92, 246, 0.3) 100%);
            color: #f1f5f9;
            border-left: 4px solid #3b82f6;
        }
        
        .progress-bar {
            height: 4px;
            background: linear-gradient(90deg, #3b82f6 0%, #8b5cf6 100%);
            border-radius: 2px;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 50;
        }
        
        .section-icon {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            flex-shrink: 0;
        }
        
        .interactive-card {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.9) 0%, rgba(15, 23, 42, 0.9) 100%);
            border-radius: 1rem;
            padding: 1.5rem;
            border: 1px solid rgba(100, 116, 139, 0.2);
        }
        
        .btn-primary {
            background: linear-gradient(90deg, #3b82f6 0%, #8b5cf6 100%);
            color: white;
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            transition: all 0.2s ease;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(59, 130, 246, 0.2);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(59, 130, 246, 0.3);
        }
        
        .input-field {
            background: rgba(15, 23, 42, 0.5);
            border: 1px solid #475569;
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            color: #e2e8f0;
            transition: all 0.2s ease;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
        }
        
        .floating-nav {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            display: flex;
            gap: 0.75rem;
            z-index: 40;
        }
        
        .floating-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .floating-btn:hover {
            transform: translateY(-5px) rotate(5deg);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.4);
        }
        /* เพิ่มในส่วน style */
        .loop-control-btn.active {
            border: 1px solid;
        }

        #break-btn.active {
            background-color: #ef4444 !important;
            border-color: #f87171;
        }

        #continue-btn.active {
            background-color: #3b82f6 !important;
            border-color: #60a5fa;
        }

        /* เพิ่มในส่วน style */
        body.light-mode {
            background: linear-gradient(135deg, #f0f9ff 0%, #e6f7ff 100%);
            color: #1e293b;
        }

        body.light-mode h1, 
        body.light-mode h2, 
        body.light-mode h3, 
        body.light-mode h4, 
        body.light-mode h5, 
        body.light-mode h6 {
            color: #0f172a !important;
        }

        body.light-mode .content-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.9) 0%, rgba(240, 240, 240, 0.9) 100%);
            border: 1px solid rgba(148, 163, 184, 0.2);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.05);
        }

        body.light-mode .gradient-header {
            background: linear-gradient(90deg, #1e40af 0%, #7c3aed 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
        }

        body.light-mode .code-block {
            background: white !important;
            color: #0f172a !important; /* สีดำเข้ม */
            border: 1px solid #cbd5e1 !important;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05) !important;
        }

        body.light-mode .nav-link {
            color: #475569;
        }

        body.light-mode .nav-link:hover, 
        body.light-mode .nav-link.active {
            color: #0f172a;
        }

        body.light-mode .interactive-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.9) 0%, rgba(240, 240, 240, 0.9) 100%);
            border: 1px solid rgba(148, 163, 184, 0.2);
        }

        body.light-mode .input-field {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid #cbd5e1;
            color: #1e293b;
        }

        body.light-mode .input-field:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        /* เพิ่มสีสำหรับ light mode ในส่วนอื่นๆ ตามต้องการ */

        .bg-yellow-800\/50 {
            background-color: rgba(146, 64, 14, 0.5);
        }

        .bg-red-800\/50 {
            background-color: rgba(153, 27, 27, 0.5);
        }
        
        @media (max-width: 768px) {
            .content-card {
                padding: 1.5rem;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .section-icon {
                margin-bottom: 1rem;
            }
        }
    </style>
</head>
<body class="antialiased">
    <!-- Progress bar -->
    <div class="progress-bar" id="progress-bar"></div>

    <div class="container mx-auto max-w-6xl p-4 sm:p-6 lg:p-8 flex flex-col md:flex-row gap-8">
        <!-- Sidebar Navigation -->
        <div class="w-full md:w-64 flex-shrink-0">
            <div class="sticky top-24">
                <div class="bg-dark-800 rounded-xl p-4 shadow-lg border border-dark-600">
                    <h3 class="text-lg font-semibold text-primary-500 mb-4 flex items-center">
                        <i class="fas fa-bookmark mr-2"></i> เนื้อหาบทเรียน
                    </h3>
                    <nav>
                        <a href="#intro" class="nav-link active">
                            <i class="fas fa-play-circle mr-2"></i> บทที่ 1
                        </a>
                        <a href="#c-basics" class="nav-link">
                            <i class="fas fa-code mr-2"></i> บทที่ 2
                        </a>
                        <a href="#c-interactive" class="nav-link">
                            <i class="fas fa-comments mr-2"></i> บทที่ 3
                        </a>
                        <a href="#c-calculator" class="nav-link">
                            <i class="fas fa-calculator mr-2"></i> บทที่ 4
                        </a>
                        <a href="#c-conditionals" class="nav-link">
                            <i class="fas fa-random mr-2"></i> บทที่ 5
                        </a>
                        <a href="#c-loops" class="nav-link">
                            <i class="fas fa-redo mr-2"></i> บทที่ 6
                        </a>
                    </nav>  
                </div>
                
                
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="flex-grow">
            <header class="text-center mb-12 pt-8">
                <h1 class="text-5xl font-extrabold gradient-header mb-2">CS50x: The Genesis</h1>
                <p class="text-xl text-slate-400">จากแนวคิดสู่ "Hello, World!" และการสนทนาโต้ตอบ</p>
                <div class="mt-8 flex justify-center">
                    <div class="flex items-center text-slate-400">
                        <i class="fas fa-clock mr-2"></i>
                        <span>อัปเดตล่าสุด: 21 มิถุนายน 2025</span>
                        <span class="mx-3">|</span>
                        <i class="fas fa-book mr-2"></i>
                        <span>6 บทเรียน</span>
                        <span class="mx-3">|</span>
                        <i class="fas fa-user-graduate mr-2"></i>
                        <span>ระดับ: เริ่มต้น</span>
                    </div>
                </div>
            </header>

            <main>
                <section id="intro" class="scroll-mt-16">
                    <div class="content-card">
                        <div class="flex items-start section-header">
                            <div class="section-icon" style="background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);">
                                <i class="fas fa-play text-white text-xl"></i>
                            </div>
                            <div>
                                <h2 class="text-3xl font-bold text-slate-100 mb-2">บทที่ 1: ศิลปะแห่งการแก้ปัญหา (The Art of Problem-Solving)</h2>
                                <div class="flex items-center text-slate-400 mb-4">
                                    <i class="far fa-clock mr-1"></i>
                                    <span class="text-sm">ระยะเวลาอ่าน: 8 นาที</span>
                                </div>
                            </div>
                        </div>
                        
                        <p class="text-slate-300 mb-4 leading-relaxed">ก่อนที่เราจะเขียนโปรแกรมใดๆ ในโลก เราต้องเรียนรู้ทักษะที่สำคัญกว่านั้น นั่นคือศิลปะในการ **แก้ปัญหา** ครับ ลองจินตนาการว่าคุณมีหุ่นยนต์ที่ซื่อสัตย์แต่... โง่เขลาเบาปัญญามาก คุณไม่สามารถสั่งมันว่า "ไปซื้อกาแฟให้หน่อย" ได้ เพราะมันไม่เข้าใจคำว่า "ซื้อ" หรือ "กาแฟ" เลย</p>
                        <p class="text-slate-300 mb-4 leading-relaxed">คุณต้องแตกปัญหานี้ออกเป็นขั้นตอนที่เล็กและโง่ที่สุดเท่าที่จะทำได้ นี่แหละครับคือหัวใจของ <strong class="text-primary-500">Computational Thinking</strong></p>
                        
                        <div class="interactive-card my-6">
                            <h3 class="text-xl font-semibold text-primary-400 mb-3 flex items-center">
                                <i class="fas fa-project-diagram mr-2"></i> Input → Process → Output: หัวใจของทุกโปรแกรม
                            </h3>
                            <p class="mb-4 text-slate-300">ทุกสิ่งทุกอย่างที่คอมพิวเตอร์ทำ สามารถมองเป็นกระบวนการง่ายๆ 3 ขั้นตอนนี้ได้เสมอครับ ลองนึกถึง "ตู้กดน้ำอัดลม" ดูสิครับ:</p>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
                                <div class="flex flex-col items-center p-4 bg-dark-700 rounded-lg border border-dark-600">
                                    <div class="text-4xl text-primary-400 mb-3">⌨️</div>
                                    <p class="font-semibold text-slate-100">1. Input (ข้อมูลนำเข้า)</p>
                                    <p class="text-sm text-slate-400 mt-2 text-center">คุณใส่เหรียญและกดปุ่ม 'C4' นี่คือข้อมูลที่คุณป้อนเข้าไป</p>
                                </div>
                                <div class="flex flex-col items-center p-4 bg-dark-700 rounded-lg border border-dark-600">
                                    <div class="text-4xl text-accent-500 mb-3">🧠</div>
                                    <p class="font-semibold text-slate-100">2. Process (ประมวลผล)</p>
                                    <p class="text-sm text-slate-400 mt-2 text-center">กลไกข้างในตู้ทำงาน มันเช็กว่าเงินพอไหม, หาว่า 'C4' คืออะไร, แล้วสั่งให้เกลียวหมุน นี่คือ "สมอง" ของโปรแกรม หรือที่เราเรียกว่า <strong class="keyword-glossary text-accent-400" data-term="Algorithm" data-def="ชุดของขั้นตอนที่ชัดเจนและมีลำดับ สำหรับใช้แก้ปัญหาหรือทำงานให้สำเร็จ เหมือนสูตรทำอาหารที่ต้องทำตามเป๊ะๆ">Algorithm</strong></p>
                                </div>
                                <div class="flex flex-col items-center p-4 bg-dark-700 rounded-lg border border-dark-600">
                                    <div class="text-4xl text-green-400 mb-3">🖥️</div>
                                    <p class="font-semibold text-slate-100">3. Output (ผลลัพธ์)</p>
                                    <p class="text-sm text-slate-400 mt-2 text-center">กระป๋องน้ำอัดลมตกลงมาที่ช่องรับของ นี่คือผลลัพธ์ที่จับต้องได้</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-8 p-6 bg-dark-800 rounded-xl border border-dark-700">
                            <h4 class="text-xl font-semibold text-amber-300 mb-4 flex items-center">
                                <i class="fas fa-brain mr-3"></i> ตัวอย่าง Algorithm ในชีวิตจริง: การเดินทางไปมหาวิทยาลัย
                            </h4>
                            <p class="text-slate-300 mb-4">ลองดูวิธีเขียน Algorithm สำหรับการเดินทางไปมหาวิทยาลัย ที่แสดงการแตกปัญหาออกเป็นขั้นตอนย่อย:</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <!-- ส่วนแสดงขั้นตอน -->
                                <div>
                                    <div class="flex items-start mb-4">
                                        <div class="bg-primary-500 text-white rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 mt-1">1</div>
                                        <div class="ml-3">
                                            <p class="font-medium text-slate-100">ตั้งเวลา⏰</p>
                                            <p class="text-slate-400 text-sm">ตั้งนาฬิกาปลุกเวลา 6:00 น.</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start mb-4">
                                        <div class="bg-primary-500 text-white rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 mt-1">2</div>
                                        <div class="ml-3">
                                            <p class="font-medium text-slate-100">เตรียมตัว👕</p>
                                            <p class="text-slate-400 text-sm">อาบน้ำ แต่งตัว กินข้าวเช้า</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start mb-4">
                                        <div class="bg-primary-500 text-white rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 mt-1">3</div>
                                        <div class="ml-3">
                                            <p class="font-medium text-slate-100">ตรวจสภาพ🚗</p>
                                            <p class="text-slate-400 text-sm">เช็คน้ำมันรถ/ประจุรถไฟฟ้า</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start">
                                        <div class="bg-primary-500 text-white rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 mt-1">4</div>
                                        <div class="ml-3">
                                            <p class="font-medium text-slate-100">เดินทาง🚦</p>
                                            <p class="text-slate-400 text-sm">ใช้เส้นทางหลักหรือเส้นทางสำรองถ้าจราจรติด</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- ส่วนแสดง pseudocode -->
                                <div class="bg-dark-900 p-4 rounded-lg">
                                    <pre class="text-sm text-green-400 overflow-x-auto">
                        Algorithm: ไปมหาวิทยาลัย
                        Input: เวลาปัจจุบัน, สภาพการจราจร
                        Output: ถึงมหาวิทยาลัยก่อน 8:00 น.

                        1. WHILE (เวลาปัจจุบัน < 6:00 น.)
                            หลับต่อ
                        END WHILE

                        2. IF (นาฬิกาปลุกดัง)
                            กดปิดนาฬิกา
                            ลุกจากเตียง
                        ELSE
                            ตั้งนาฬิกาปลุกใหม่
                        END IF

                        3. ทำตามลำดับ:
                        - อาบน้ำ
                        - แต่งตัว
                        - กินข้าวเช้า

                        4. ตรวจสอบ:
                        - น้ำมันรถ > 20%? ➡️ ไปขั้นตอน 5
                        - หรือ ประจุรถไฟฟ้า > 30%? ➡️ ไปขั้นตอน 5
                        - ELSE ➡️ เรียกแท็กซี่

                        5. IF (การจราจรบนเส้นทางหลักติดขัด)
                            ใช้เส้นทางสำรอง
                        ELSE
                            ใช้เส้นทางหลัก
                        END IF

                        6. ขับรถ/นั่งรถ ไปมหาวิทยาลัย

                        7. WHILE NOT (ถึงมหาวิทยาลัย)
                            ขับต่อไป
                        END WHILE

                        8. แจ้งผล: "ถึงมหาวิทยาลัยเวลา {เวลาปัจจุบัน}"</pre>
                                    <p class="text-slate-400 text-sm mt-3 text-center">Pseudocode แสดง Algorithm การเดินทาง</p>
                                </div>
                            </div>
                            
                            <div class="mt-6 p-4 bg-primary-900 bg-opacity-20 rounded-lg border border-primary-700">
                                <p class="text-primary-200 flex items-start">
                                    <i class="fas fa-lightbulb mr-2 mt-1"></i>
                                    <span>สังเกตว่า Algorithm นี้ใช้เครื่องมือทั้ง 3 อย่างที่เราจะเรียน: <strong>ฟังก์ชัน</strong> (ขั้นตอนย่อย), <strong>เงื่อนไข</strong> (if/else) และ <strong>ลูป</strong> (while) การออกแบบ Algorithm ที่ดีต้องคำนึงถึงทุกสถานการณ์ที่เป็นไปได้!</span>
                                </p>
                            </div>
                        </div>
                        
                        <h3 class="text-xl font-semibold text-slate-100 mt-8 mb-3 flex items-center">
                            <i class="fas fa-toolbox mr-2 text-yellow-400"></i> เครื่องมือในกล่องของนักคิด (The Toolbox)
                        </h3>
                        <p class="text-slate-300 mb-4 leading-relaxed">และถึงแม้ Algorithm ของเราจะซับซ้อนแค่ไหน เครื่องมือที่เราต้องใช้ในการสร้างมันขึ้นมาจริงๆ มีเพียง 3 อย่างนี้เท่านั้นครับ:</p>
                        
                        <div class="space-y-6 mt-6">
                            <div class="flex items-start">
                                <div class="bg-primary-500 rounded-lg p-3 mt-1 mr-4">
                                    <i class="fas fa-cube text-white"></i>
                                </div>
                                <div>
                                    <h4 class="text-lg font-semibold text-slate-100 mb-2">ฟังก์ชัน (Functions)</h4>
                                    <p class="text-slate-300">ลองนึกว่าคุณกำลังเขียน "ตำราอาหาร" แทนที่จะเขียนวิธี "หั่นหอมหัวใหญ่" ซ้ำๆ ในทุกๆ สูตรอาหาร คุณก็แค่เขียนวิธีหั่นไว้ในบทแรกบทเดียว แล้วตั้งชื่อให้มันว่า "วิธีหั่นหอม" ต่อไปในสูตรอื่นๆ คุณก็แค่เขียนว่า "ไปดูวิธีหั่นหอมจากบทแรก" พอ! ฟังก์ชันก็คือสิ่งเดียวกันครับ มันคือการตั้งชื่อให้ "ชุดของขั้นตอน" ที่เราทำบ่อยๆ เพื่อให้เราเรียกใช้ได้โดยไม่ต้องเขียนซ้ำ</p>
                                </div>
                            </div>
                            
                            <div class="flex items-start">
                                <div class="bg-accent-500 rounded-lg p-3 mt-1 mr-4">
                                    <i class="fas fa-code-branch text-white"></i>
                                </div>
                                <div>
                                    <h4 class="text-lg font-semibold text-slate-100 mb-2">เงื่อนไข (Conditionals)</h4>
                                    <p class="text-slate-300">ชีวิตเต็มไปด้วยทางแยก โปรแกรมก็เช่นกันครับ `if-else` คือเครื่องมือที่ช่วยให้โปรแกรมตัดสินใจได้ เช่น `<strong class="text-amber-400">ถ้า</strong> ตู้เย็นมีไข่ <strong class="text-amber-400">ก็ให้</strong>ทำไข่เจียว, <strong class="text-amber-400">แต่ถ้าไม่ ก็ให้</strong>ทำข้าวผัด` มันคือการสร้างทางเลือกให้โปรแกรมของเรา ไม่ใช่การเดินไปข้างหน้าอย่างเดียว</p>
                                </div>
                            </div>
                            
                            <div class="flex items-start">
                                <div class="bg-green-500 rounded-lg p-3 mt-1 mr-4">
                                    <i class="fas fa-sync-alt text-white"></i>
                                </div>
                                <div>
                                    <h4 class="text-lg font-semibold text-slate-100 mb-2">ลูป (Loops)</h4>
                                    <p class="text-slate-300">ลองจินตนาการว่าคุณต้องตีไข่ 50 ครั้ง คงไม่มีใครอยากเขียนคำสั่ง "ตีไข่" 50 บรรทัดใช่ไหมครับ? เราก็แค่สั่งว่า `<strong class="text-lime-400">ทำซ้ำ 50 ครั้ง:</strong> ตีไข่` นี่คือการใช้ `loop` ครับ มันคือเครื่องมือที่ทรงพลังที่สุดในการจัดการกับงานที่ต้องทำซ้ำๆ</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-8 p-4 bg-dark-800 border border-dark-700 rounded-lg">
                            <p class="text-lg text-center text-slate-200 font-medium">
                                <i class="fas fa-lightbulb text-yellow-400 mr-2"></i> เมื่อเราเข้าใจศิลปะในการคิดและเครื่องมือทั้ง 3 อย่างนี้แล้ว... เราก็พร้อมที่จะเรียนรู้ "ภาษา" ที่จะใช้สื่อสารความคิดเหล่านี้กับคอมพิวเตอร์แล้วล่ะครับ และภาษานั้นก็คือ C
                            </p>
                        </div>
                    </div>
                </section>

                <section id="c-basics" class="scroll-mt-16">
                    <div class="content-card">
                        <div class="flex items-start section-header">
                            <div class="section-icon" style="background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);">
                                <i class="fas fa-code text-white text-xl"></i>
                            </div>
                            <div>
                                <h2 class="text-3xl font-bold text-slate-100 mb-2">บทที่ 2: การสนทนาครั้งแรก (Anatomy of C)</h2>
                                <div class="flex items-center text-slate-400 mb-4">
                                    <i class="far fa-clock mr-1"></i>
                                    <span class="text-sm">ระยะเวลาอ่าน: 6 นาที</span>
                                </div>
                            </div>
                        </div>
                        
                        <h3 class="text-xl font-semibold text-slate-100 mb-3 flex items-center">
                            <i class="fas fa-question-circle mr-2 text-primary-400"></i> ทำไมต้องเป็นภาษา C ที่ดูน่ากลัว?
                        </h3>
                        
                        <p class="text-slate-300 mb-4 leading-relaxed">ภาษาโปรแกรมสมัยใหม่ๆ ก็เหมือน "รถยนต์เกียร์ออโต้" ครับ ขับง่าย สะดวกสบาย มันจัดการเรื่องน่าปวดหัวให้เราหมด แต่... คุณไม่เคยได้สัมผัสการทำงานของเครื่องยนต์จริงๆ เลย คุณไม่รู้ว่าเกียร์เปลี่ยนตอนไหน หรือทำไมรอบเครื่องถึงขึ้น</p>
                        <p class="text-slate-300 mb-4 leading-relaxed">ส่วนภาษา C ก็เหมือน **"รถยนต์เกียร์กระปุก"** ครับ คุณต้องเหยียบคลัตช์เอง เข้าเกียร์เอง คุณต้องฟังเสียงเครื่องยนต์ คุณต้องรู้สึกถึงแรงสั่นสะเทือน มันอาจจะยากกว่าในตอนแรก แต่มันบังคับให้คุณต้องเข้าใจ "จิตวิญญาณ" ของยานยนต์อย่างแท้จริง และเมื่อคุณขับเป็น... คุณจะสามารถรีดประสิทธิภาพของรถออกมาได้สูงสุด การเรียน C ก็เพื่อให้เราได้ "เปิดฝากระโปรง" และเห็นการทำงานของคอมพิวเตอร์ในระดับที่ลึกที่สุดนั่นเองครับ</p>
                        <!-- เพิ่มส่วนนี้หลังย่อหน้าที่สองของหัวข้อ "ทำไมต้องเป็นภาษา C ที่ดูน่ากลัว?" -->
                        <div class="mt-6 p-5 bg-dark-800 rounded-xl border border-dark-700">
                            <h3 class="text-xl font-semibold text-amber-300 mb-3 flex items-center">
                                <i class="fas fa-language mr-2"></i> ความลับของภาษา C: มันคือ Compiled Language!
                            </h3>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <!-- Compiler -->
                                <div class="interactive-card">
                                    <h4 class="text-lg font-semibold text-blue-400 mb-3 flex items-center">
                                        <i class="fas fa-cogs mr-2"></i> Compiled Language (ภาษา C)
                                    </h4>
                                    <div class="flex items-start mb-3">
                                        <div class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center flex-shrink-0 mt-1 mr-2">1</div>
                                        <p class="text-slate-300">เขียนโค้ด (source code)</p>
                                    </div>
                                    <div class="flex items-start mb-3">
                                        <div class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center flex-shrink-0 mt-1 mr-2">2</div>
                                        <p class="text-slate-300">ใช้ <strong>Compiler</strong> แปลงทั้งโปรแกรมเป็นภาษาเครื่อง (machine code)</p>
                                    </div>
                                    <div class="flex items-start">
                                        <div class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center flex-shrink-0 mt-1 mr-2">3</div>
                                        <p class="text-slate-300">รันไฟล์ executable ที่ได้ทันทีโดยไม่ต้องแปลอีก</p>
                                    </div>
                                    
                                    <div class="mt-4 p-3 bg-dark-900 rounded-lg">
                                        <pre class="text-blue-300 text-sm">$ gcc hello.c -o hello  # Compile
                        $ ./hello             # Run
                        Hello, world!</pre>
                                    </div>
                                    
                                    <div class="mt-4 bg-blue-900 bg-opacity-20 p-3 rounded-lg">
                                        <p class="text-blue-300">
                                            <i class="fas fa-bolt mr-2"></i> <strong>ข้อดี:</strong> รันเร็วมาก เหมาะกับระบบประสิทธิภาพสูง
                                        </p>
                                    </div>
                                </div>
                                
                                <!-- Interpreter -->
                                <div class="interactive-card">
                                    <h4 class="text-lg font-semibold text-purple-400 mb-3 flex items-center">
                                        <i class="fas fa-play-circle mr-2"></i> Interpreted Language (Python, JavaScript)
                                    </h4>
                                    <div class="flex items-start mb-3">
                                        <div class="bg-purple-500 text-white rounded-full w-6 h-6 flex items-center justify-center flex-shrink-0 mt-1 mr-2">1</div>
                                        <p class="text-slate-300">เขียนโค้ด (source code)</p>
                                    </div>
                                    <div class="flex items-start mb-3">
                                        <div class="bg-purple-500 text-white rounded-full w-6 h-6 flex items-center justify-center flex-shrink-0 mt-1 mr-2">2</div>
                                        <p class="text-slate-300">ใช้ <strong>Interpreter</strong> อ่านทีละบรรทัดและแปลงเป็นคำสั่งเครื่อง</p>
                                    </div>
                                    <div class="flex items-start">
                                        <div class="bg-purple-500 text-white rounded-full w-6 h-6 flex items-center justify-center flex-shrink-0 mt-1 mr-2">3</div>
                                        <p class="text-slate-300">ทำงานทันทีโดยไม่สร้างไฟล์ executable แยก</p>
                                    </div>
                                    
                                    <div class="mt-4 p-3 bg-dark-900 rounded-lg">
                                        <pre class="text-purple-300 text-sm">$ python hello.py
                        Hello, world!</pre>
                                    </div>
                                    
                                    <div class="mt-4 bg-purple-900 bg-opacity-20 p-3 rounded-lg">
                                        <p class="text-purple-300">
                                            <i class="fas fa-bolt mr-2"></i> <strong>ข้อดี:</strong> แก้ไขและทดสอบได้เร็ว ไม่ต้อง compile ก่อน
                                        </p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="bg-dark-700 p-4 rounded-lg">
                                    <div class="text-center text-blue-400 text-2xl mb-2"><i class="fas fa-microchip"></i></div>
                                    <p class="text-center font-semibold">ภาษาเครื่อง</p>
                                    <p class="text-slate-400 text-sm text-center mt-1">Compiler สร้างไฟล์ภาษาเครื่องที่ CPU เข้าใจได้ตรงๆ</p>
                                </div>
                                <div class="bg-dark-700 p-4 rounded-lg">
                                    <div class="text-center text-amber-400 text-2xl mb-2"><i class="fas fa-gauge-high"></i></div>
                                    <p class="text-center font-semibold">ความเร็ว</p>
                                    <p class="text-slate-400 text-sm text-center mt-1">Compiled code รันเร็วเพราะไม่ต้องแปลอีก</p>
                                </div>
                                <div class="bg-dark-700 p-4 rounded-lg">
                                    <div class="text-center text-purple-400 text-2xl mb-2"><i class="fas fa-layer-group"></i></div>
                                    <p class="text-center font-semibold">การพกพา</p>
                                    <p class="text-slate-400 text-sm text-center mt-1">Compiled code ขึ้นกับระบบปฏิบัติการ</p>
                                </div>
                            </div>
                            
                            <div class="mt-6 bg-amber-900 bg-opacity-20 border-l-4 border-amber-400 p-4 rounded-r-lg">
                                <p class="text-amber-200">
                                    <i class="fas fa-lightbulb mr-2"></i> <strong>เหตุผลที่ C ทำงานเร็ว:</strong> เพราะถูก compile เป็นภาษาเครื่องโดยตรง ทำให้ไม่ต้องเสียเวลาแปลอีกเมื่อรันโปรแกรม! 
                                    นี่คือหนึ่งในเหตุผลที่ภาษา C ยังคงถูกใช้ในระบบปฏิบัติการและเกมระดับ AAA จนถึงทุกวันนี้
                                </p>
                            </div>
                        </div>
                        <h3 class="text-xl font-semibold text-slate-100 mt-8 mb-3 flex items-center">
                            <i class="fas fa-heartbeat mr-2 text-red-400"></i> การสนทนาครั้งแรก: ผ่าตัดโปรแกรม Hello, world!
                        </h3>
                        <p class="text-slate-300 mb-4">เอาล่ะครับ ถึงเวลาที่เราจะมาผ่าตัดโค้ดโปรแกรมแรกของเรากันแบบละเอียดยิบทุกอณู นี่คือบทสนทนาแรกระหว่างเรากับคอมพิวเตอร์</p>
                        
                        <div class="relative mt-6">
                            <div class="absolute top-4 right-4 flex space-x-2">
                                <button class="text-slate-400 hover:text-slate-200">
                                    <i class="far fa-copy"></i>
                                </button>
                                <button class="text-slate-400 hover:text-slate-200">
                                    <i class="fas fa-expand"></i>
                                </button>
                            </div>
                            <pre class="code-block"><code class="language-c"><span class="code-comment">// นำเข้าไลบรารีมาตรฐานสำหรับ Input/Output</span>
<span class="keyword-glossary" data-term="#include" data-def="คำสั่ง 'พรีโปรเซสเซอร์' ใช้บอกคอมไพเลอร์ว่า 'ช่วยไปเอาโค้ดจากไฟล์อื่นมารวมกับไฟล์นี้ที' เหมือนการไปหยิบกล่องเครื่องมือมาเตรียมไว้ใช้งาน">#include</span> <span class="code-string">&lt;<span class="keyword-glossary" data-term="stdio.h" data-def="ชื่อของ 'กล่องเครื่องมือ' มาตรฐาน (Standard Input/Output Header) ที่มีฟังก์ชันพื้นฐานอย่าง printf() อยู่ข้างใน">stdio.h</span>&gt;</span>

<span class="code-comment">// ฟังก์ชัน main คือจุดเริ่มต้นของทุกโปรแกรมภาษา C</span>
<span class="keyword-glossary" data-term="int" data-def="ย่อมาจาก Integer คือชนิดของข้อมูลที่เป็น 'เลขจำนวนเต็ม' การระบุ int หน้า main หมายความว่าเมื่อฟังก์ชันนี้ทำงานเสร็จ จะต้อง 'คืนค่า' กลับไปเป็นเลขจำนวนเต็ม">int</span> <span class="keyword-glossary code-function" data-term="main" data-def="คือชื่อฟังก์ชันที่พิเศษที่สุด ถือเป็น 'ประตูทางเข้าหลัก' ของทุกโปรแกรมในภาษา C คอมพิวเตอร์จะมองหาฟังก์ชัน main() เป็นอันดับแรกเสมอ">main</span>(<span class="keyword-glossary" data-term="void" data-def="แปลว่า 'ว่างเปล่า' ในที่นี้หมายความว่าฟังก์ชัน main ไม่ต้องการรับข้อมูลใดๆ จากภายนอกเพื่อเริ่มทำงาน">void</span>)
<span class="keyword-glossary" data-term="{ }" data-def="ปีกกา คือสัญลักษณ์ที่ใช้กำหนด 'ขอบเขต' การทำงานของฟังก์ชัน หรือบล็อกของโค้ด ทุกอย่างที่อยู่ระหว่างปีกกาเปิด { และปีกกาปิด } ถือว่าเป็นส่วนหนึ่งของบล็อกนั้นๆ">{</span>
    <span class="code-comment">// ใช้ฟังก์ชัน printf เพื่อพิมพ์ข้อความออกทางหน้าจอ</span>
    <span class="keyword-glossary code-function" data-term="printf" data-def="มาจาก Print-Formatted เป็นฟังก์ชันที่อยู่ใน stdio.h ใช้สำหรับแสดงผลข้อความหรือค่าของตัวแปรออกไปยังหน้าจอ">printf</span>(<span class="code-string">"Hello, world!\n"</span>)<span class="keyword-glossary" data-term=";" data-def="เซมิโคลอน คือเครื่องหมาย 'จบประโยค' ในภาษา C มันทำหน้าที่เหมือนจุด full-stop ในภาษาอังกฤษ เพื่อบอกคอมไพเลอร์ว่าคำสั่งนี้จบลงแล้ว">;</span>
<span class="keyword-glossary" data-term="{ }" data-def="ปีกกา คือสัญลักษณ์ที่ใช้กำหนด 'ขอบเขต' การทำงานของฟังก์ชัน หรือบล็อกของโค้ด ทุกอย่างที่อยู่ระหว่างปีกกาเปิด { และปีกกาปิด } ถือว่าเป็นส่วนหนึ่งของบล็อกนั้นๆ">}</span></code></pre>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                            <div class="bg-dark-700 p-4 rounded-lg border border-dark-600">
                                <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                    <i class="fas fa-check-circle text-green-400 mr-2"></i> สิ่งที่ได้เรียนรู้
                                </h4>
                                <ul class="space-y-2 text-slate-300">
                                    <li class="flex items-start">
                                        <i class="fas fa-chevron-right text-primary-400 mt-1 mr-2 text-xs"></i>
                                        <span>โครงสร้างพื้นฐานของโปรแกรม C</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-chevron-right text-primary-400 mt-1 mr-2 text-xs"></i>
                                        <span>ฟังก์ชัน main() เป็นจุดเริ่มต้น</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-chevron-right text-primary-400 mt-1 mr-2 text-xs"></i>
                                        <span>การใช้งานฟังก์ชัน printf()</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <div class="bg-dark-700 p-4 rounded-lg border border-dark-600">
                                <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                    <i class="fas fa-exclamation-triangle text-yellow-400 mr-2"></i> ข้อควรระวัง
                                </h4>
                                <ul class="space-y-2 text-slate-300">
                                    <li class="flex items-start">
                                        <i class="fas fa-chevron-right text-primary-400 mt-1 mr-2 text-xs"></i>
                                        <span>อย่าลืม ; (semicolon) ท้ายคำสั่ง</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-chevron-right text-primary-400 mt-1 mr-2 text-xs"></i>
                                        <span>ปีกกา { } ต้องเปิด-ปิดให้ถูกคู่</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-chevron-right text-primary-400 mt-1 mr-2 text-xs"></i>
                                        <span>ต้อง include stdio.h เพื่อใช้ printf</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ======= บทที่ 3: การสนทนาโต้ตอบ ======= -->
                <section id="c-interactive" class="scroll-mt-16">
                    <div class="content-card">
                        <div class="flex items-start section-header">
                            <div class="section-icon" style="background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);">
                                <i class="fas fa-comments text-white text-xl"></i>
                            </div>
                            <div>
                                <h2 class="text-3xl font-bold text-slate-100 mb-2">บทที่ 3: การสนทนาโต้ตอบ (Interactive Conversations)</h2>
                                <div class="flex items-center text-slate-400 mb-4">
                                    <i class="far fa-clock mr-1"></i>
                                    <span class="text-sm">ระยะเวลาอ่าน: 7 นาที</span>
                                </div>
                            </div>
                        </div>
                        
                        <p class="text-slate-300 mb-4 leading-relaxed">ยินดีด้วยครับ! ตอนนี้คุณสามารถส่ง "ข้อความ" ไปยังคอมพิวเตอร์ได้แล้ว แต่การสื่อสารที่ดีคือการสื่อสารสองทางใช่ไหมครับ? ในบทนี้ เราจะทำให้โปรแกรมของเรา "ฉลาด" ขึ้น โดยการรับข้อมูลจากผู้ใช้กลับมาบ้าง และนี่คือการเติมเต็มโมเดล `Input -> Process -> Output` ของเราให้สมบูรณ์</p>
                        
                        <h3 class="text-xl font-semibold text-slate-100 mt-8 mb-3 flex items-center">
                            <i class="fas fa-box-open mr-2 text-amber-400"></i> กล่องมหัศจรรย์: ตัวแปร (Variables)
                        </h3>
                        <p class="text-slate-300 mb-4 leading-relaxed">ลองจินตนาการว่าคุณต้องการให้โปรแกรมถามชื่อของคุณ แล้วทักทายกลับมาด้วยชื่อนั้น... โปรแกรมจะ "จำ" ชื่อที่คุณพิมพ์เข้าไปได้อย่างไร? คำตอบคือ <strong class="keyword-glossary" data-term="Variable" data-def="ตัวแปร คือชื่อที่เราตั้งขึ้นมาเพื่ออ้างอิงถึงพื้นที่ในหน่วยความจำของคอมพิวเตอร์ ใช้สำหรับเก็บข้อมูลที่โปรแกรมต้องใช้งาน เปรียบเสมือนกล่องที่มีป้ายชื่อกำกับอยู่">ตัวแปร (Variable)</strong> ครับ</p>
                        <p class="text-slate-300 mb-4 leading-relaxed">ตัวแปร ก็เหมือน "กล่องเปล่าพร้อมป้ายชื่อ" ครับ เราต้องทำ 2 อย่าง:</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-6">
                            <div class="interactive-card">
                                <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                    <i class="fas fa-tag mr-2 text-primary-400"></i> ตั้งชื่อให้กล่อง
                                </h4>
                                <p class="text-slate-300">เราต้องบอกคอมพิวเตอร์ก่อนว่า "ฉันจะสร้างกล่องนะ กล่องนี้ชื่อว่า `name`"</p>
                                <div class="mt-4 p-3 bg-dark-800 rounded-lg">
                                    <code class="text-primary-400">string name;</code>
                                </div>
                            </div>
                            
                            <div class="interactive-card">
                                <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                    <i class="fas fa-shapes mr-2 text-green-400"></i> บอกชนิดของที่จะใส่
                                </h4>
                                <p class="text-slate-300">เราต้องบอกด้วยว่ากล่องนี้จะเอาไว้ใส่ของ "ประเภท" ไหน เช่น ใส่ข้อความ (string) หรือใส่ตัวเลข (int)</p>
                                <div class="mt-4 p-3 bg-dark-800 rounded-lg">
                                    <code class="text-green-400">name = get_string("Your name? ");</code>
                                </div>
                            </div>
                        </div>
                        
                        <h3 class="text-xl font-semibold text-slate-100 mt-8 mb-3 flex items-center">
                            <i class="fas fa-robot mr-2 text-accent-500"></i> สนทนากับผู้ใช้: โค้ดทักทายอัจฉริยะ
                        </h3>
                        <p class="text-slate-300 mb-4">มาดูโปรแกรมที่สมบูรณ์ขึ้นกันครับ โปรแกรมนี้จะถามชื่อของคุณ แล้วนำชื่อนั้นมาแสดงผลบนหน้าจอ จะเห็นว่าเราได้หยิบ "กล่องเครื่องมือ" มาเพิ่มอีกหนึ่งชิ้นคือ `<cs50.h>` ซึ่งเป็นไลบรารีพิเศษของคอร์ส CS50 ที่ทำให้การรับ Input ง่ายขึ้นมากครับ</p>
                        
                        <div class="relative mt-6">
                            <div class="absolute top-4 right-4 flex space-x-2">
                                <button class="text-slate-400 hover:text-slate-200" onclick="copyCode('code-interactive')">
                                    <i class="far fa-copy"></i>
                                </button>
                                <button class="text-slate-400 hover:text-slate-200" onclick="runInteractiveDemo()">
                                    <i class="fas fa-play"></i>
                                </button>
                            </div>
                            <pre id="code-interactive" class="code-block"><code class="language-c"><span class="code-comment">// นำเข้าไลบรารี cs50 และ stdio</span>
                <span class="keyword-glossary" data-term="#include" data-def="คำสั่ง 'พรีโปรเซสเซอร์' ใช้บอกคอมไพเลอร์ว่า 'ช่วยไปเอาโค้ดจากไฟล์อื่นมารวมกับไฟล์นี้ที' เหมือนการไปหยิบกล่องเครื่องมือมาเตรียมไว้ใช้งาน">#include</span> <span class="code-string">&lt;<span class="keyword-glossary" data-term="cs50.h" data-def="ไลบรารี (กล่องเครื่องมือ) พิเศษของ CS50 ที่มีฟังก์ชันอำนวยความสะดวก เช่น get_string(), get_int() ทำให้การรับข้อมูลจากผู้ใช้ทำได้ง่ายขึ้นมาก">cs50.h</span>&gt;</span>
                <span class="keyword-glossary" data-term="#include" data-def="คำสั่ง 'พรีโปรเซสเซอร์' ใช้บอกคอมไพเลอร์ว่า 'ช่วยไปเอาโค้ดจากไฟล์อื่นมารวมกับไฟล์นี้ที' เหมือนการไปหยิบกล่องเครื่องมือมาเตรียมไว้ใช้งาน">#include</span> <span class="code-string">&lt;<span class="keyword-glossary" data-term="stdio.h" data-def="ชื่อของ 'กล่องเครื่องมือ' มาตรฐาน (Standard Input/Output Header) ที่มีฟังก์ชันพื้นฐานอย่าง printf() อยู่ข้างใน">stdio.h</span>&gt;</span>

                <span class="keyword-glossary" data-term="int" data-def="ย่อมาจาก Integer คือชนิดของข้อมูลที่เป็น 'เลขจำนวนเต็ม' การระบุ int หน้า main หมายความว่าเมื่อฟังก์ชันนี้ทำงานเสร็จ จะต้อง 'คืนค่า' กลับไปเป็นเลขจำนวนเต็ม">int</span> <span class="keyword-glossary code-function" data-term="main" data-def="คือชื่อฟังก์ชันที่พิเศษที่สุด ถือเป็น 'ประตูทางเข้าหลัก' ของทุกโปรแกรมในภาษา C คอมพิวเตอร์จะมองหาฟังก์ชัน main() เป็นอันดับแรกเสมอ">main</span>(<span class="keyword-glossary" data-term="void" data-def="แปลว่า 'ว่างเปล่า' ในที่นี้หมายความว่าฟังก์ชัน main ไม่ต้องการรับข้อมูลใดๆ จากภายนอกเพื่อเริ่มทำงาน">void</span>)
                <span class="keyword-glossary" data-term="{ }" data-def="ปีกกา คือสัญลักษณ์ที่ใช้กำหนด 'ขอบเขต' การทำงานของฟังก์ชัน หรือบล็อกของโค้ด ทุกอย่างที่อยู่ระหว่างปีกกาเปิด { และปีกกาปิด } ถือว่าเป็นส่วนหนึ่งของบล็อกนั้นๆ">{</span>
                    <span class="code-comment">// รับชื่อจากผู้ใช้แล้วเก็บในตัวแปร name</span>
                    <span class="keyword-glossary" data-term="string" data-def="ชนิดข้อมูลสำหรับเก็บ 'ข้อความ' หรือ 'ชุดของตัวอักษร' ในไลบรารีของ CS50 ทำให้การจัดการข้อความเป็นเรื่องง่าย">string</span> name = <span class="keyword-glossary code-function" data-term="get_string" data-def="ฟังก์ชันจากไลบรารี cs50.h ใช้สำหรับรับข้อมูลประเภทข้อความ (string) จากผู้ใช้">get_string</span>(<span class="code-string">"What's your name? "</span>);

                    <span class="code-comment">// แสดงผลคำทักทายโดยใช้ชื่อที่รับมา</span>
                    <span class="keyword-glossary code-function" data-term="printf" data-def="มาจาก Print-Formatted เป็นฟังก์ชันที่อยู่ใน stdio.h ใช้สำหรับแสดงผลข้อความหรือค่าของตัวแปรออกไปยังหน้าจอ">printf</span>(<span class="code-string">"hello, <span class="keyword-glossary code-placeholder" data-term="%s" data-def="เรียกว่า 'Format Specifier' เป็นตัวจองที่ในข้อความ เพื่อบอก printf ว่า 'ตรงนี้นะ เดี๋ยวจะเอาค่า string มาเสียบแทนที่'">%s</span>\n"</span>, name);
                <span class="keyword-glossary" data-term="{ }" data-def="ปีกกา คือสัญลักษณ์ที่ใช้กำหนด 'ขอบเขต' การทำงานของฟังก์ชัน หรือบล็อกของโค้ด ทุกอย่างที่อยู่ระหว่างปีกกาเปิด { และปีกกาปิด } ถือว่าเป็นส่วนหนึ่งของบล็อกนั้นๆ">}</span></code></pre>
                        </div>
                        
                        <!-- Interactive Demo Section -->
                        <div class="interactive-card mt-8">
                            <h3 class="text-xl font-semibold text-slate-100 mb-4 flex items-center">
                                <i class="fas fa-flask mr-2 text-purple-400"></i> ห้องทดลอง: ทักทายกันเถอะ!
                            </h3>
                            <p class="text-slate-300 mb-4">ลองใช้งานโปรแกรมทักทายด้วยการใส่ชื่อของคุณด้านล่าง แล้วดูผลลัพธ์ที่ได้</p>
                            
                            <!-- แก้ไขในส่วนห้องทดลอง: ทักทายกันเถอะ! -->
                            <div class="flex flex-col md:flex-row gap-4 mb-4">
                                <div class="flex-grow">
                                    <label class="block text-slate-300 mb-2">ป้อนชื่อของคุณ:</label>
                                    <input 
                                        type="text" 
                                        id="user-name" 
                                        class="input-field w-full" 
                                        placeholder="เช่น Somchai" 
                                        value="CS50 Lover"
                                        minlength="2"
                                        maxlength="20"
                                        pattern="[A-Za-zก-๙\s]+"
                                        title="ชื่อต้องประกอบด้วยตัวอักษรและช่องว่างเท่านั้น (2-20 ตัวอักษร)"
                                        required
                                    >
                                    <!-- เพิ่มส่วนแสดงข้อความ error -->
                                    <div id="name-error" class="text-red-400 text-sm mt-1 hidden">
                                        <i class="fas fa-exclamation-circle mr-1"></i>
                                        <span>กรุณาป้อนชื่อที่ถูกต้อง (2-20 ตัวอักษร, ใช้เฉพาะตัวอักษรและช่องว่าง)</span>
                                    </div>
                                </div>
                                <div class="flex items-end">
                                    <button id="run-greeting-btn" class="btn-primary w-full md:w-auto">
                                        <i class="fas fa-play mr-2"></i> รันโปรแกรม
                                    </button>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="text-lg font-semibold text-slate-100 mb-2 flex items-center">
                                        <i class="fas fa-terminal mr-2 text-green-400"></i> ผลลัพธ์:
                                    </h4>
                                    <div id="greeting-output" class="bg-dark-800 p-4 rounded-lg min-h-[100px] font-mono text-slate-200 whitespace-pre-wrap">
                                        <!-- ผลลัพธ์จะแสดงที่นี่ -->
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="text-lg font-semibold text-slate-100 mb-2 flex items-center">
                                        <i class="fas fa-code mr-2 text-blue-400"></i> กลไกการทำงาน:
                                    </h4>
                                    <div class="bg-dark-800 p-4 rounded-lg text-slate-300">
                                        <p class="mb-3"><i class="fas fa-chevron-right text-primary-400 mr-2"></i> โปรแกรมสร้างตัวแปรชื่อ <code class="text-primary-400">name</code> สำหรับเก็บข้อมูล</p>
                                        <p class="mb-3"><i class="fas fa-chevron-right text-primary-400 mr-2"></i> ใช้ <code class="text-primary-400">get_string()</code> รับค่าจากผู้ใช้</p>
                                        <p><i class="fas fa-chevron-right text-primary-400 mr-2"></i> แสดงผลด้วย <code class="text-primary-400">printf()</code> โดยใช้ <code class="text-amber-400">%s</code> แทนที่ด้วยชื่อ</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-8 p-4 bg-dark-800 border border-dark-700 rounded-lg">
                            <p class="text-lg text-center text-slate-200 font-medium">
                                <i class="fas fa-star text-yellow-400 mr-2"></i> ยอดเยี่ยมมากครับ! ตอนนี้เว็บไซต์ของเราได้นำพาผู้เรียนจากการเป็นเพียงผู้ส่งสารฝ่ายเดียว มาสู่การเป็นผู้สร้างบทสนทนาที่สมบูรณ์แล้ว
                            </p>
                        </div>
                    </div>
                </section>

                <!-- ======= บทที่ 4: คอมพิวเตอร์คิดเลข ======= -->
                <section id="c-calculator" class="scroll-mt-16">
                    <div class="content-card">
                        <div class="flex items-start section-header">
                            <div class="section-icon" style="background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);">
                                <i class="fas fa-calculator text-white text-xl"></i>
                            </div>
                            <div>
                                <h2 class="text-3xl font-bold text-slate-100 mb-2">บทที่ 4: คอมพิวเตอร์คิดเลข (Calculations & Data Types)</h2>
                                <div class="flex items-center text-slate-400 mb-4">
                                    <i class="far fa-clock mr-1"></i>
                                    <span class="text-sm">ระยะเวลาอ่าน: 8 นาที</span>
                                </div>
                            </div>
                        </div>
                        
                        <p class="text-slate-300 mb-4 leading-relaxed">
                            นอกจากการจัดการกับ "ข้อความ" แล้ว พลังที่แท้จริงของคอมพิวเตอร์คือการ "คำนวณ" ครับ ในบทนี้ เราจะเปลี่ยนคอมพิวเตอร์ให้กลายเป็นเครื่องคิดเลขส่วนตัวของเรา แต่ก่อนอื่น เราต้องรู้จัก "ชนิด" ของตัวเลขที่คอมพิวเตอร์เข้าใจกันก่อน
                        </p>
                        
                        <h3 class="text-xl font-semibold text-slate-100 mt-8 mb-3 flex items-center">
                            <i class="fas fa-sort-numeric-up mr-2 text-blue-400"></i> ตัวเลขก็มีหลายประเภท (Numeric Data Types)
                        </h3>
                        <p class="text-slate-300 mb-4 leading-relaxed">
                            ในโลกคณิตศาสตร์มีทั้งเลขจำนวนเต็มและเลขทศนิยม ในภาษา C ก็เช่นกันครับ เราต้องเลือกใช้ "กล่อง" หรือตัวแปรให้ถูกประเภทกับตัวเลขที่เราจะเก็บ
                        </p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 my-6">
                            <div class="interactive-card">
                                <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                    <i class="fas fa-hashtag mr-2 text-primary-400"></i> int
                                </h4>
                                <p class="text-slate-300">สำหรับเก็บเลข <strong>จำนวนเต็ม</strong> เช่น 5, 200, -10</p>
                                <div class="mt-4 p-3 bg-dark-800 rounded-lg">
                                    <code class="text-primary-400">int age = 25;</code>
                                </div>
                                <div class="mt-3 text-sm text-slate-400">
                                    <i class="fas fa-info-circle mr-1"></i> เหมาะสำหรับข้อมูลที่ไม่สามารถแบ่งเป็นเศษส่วนได้
                                </div>
                            </div>
                            
                            <div class="interactive-card">
                                <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                    <i class="fas fa-divide mr-2 text-green-400"></i> float
                                </h4>
                                <p class="text-slate-300">สำหรับเก็บเลข <strong>ทศนิยม</strong> เช่น 3.14, 1.75</p>
                                <div class="mt-4 p-3 bg-dark-800 rounded-lg">
                                    <code class="text-green-400">float pi = 3.14159;</code>
                                </div>
                                <div class="mt-3 text-sm text-slate-400">
                                    <i class="fas fa-info-circle mr-1"></i> เหมาะกับข้อมูลที่ต้องการความละเอียด
                                </div>
                            </div>
                            
                            <div class="interactive-card">
                                <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                    <i class="fas fa-infinity mr-2 text-purple-400"></i> long
                                </h4>
                                <p class="text-slate-300">สำหรับเก็บเลขจำนวนเต็มที่ <strong>ใหญ่มากๆ</strong></p>
                                <div class="mt-4 p-3 bg-dark-800 rounded-lg">
                                    <code class="text-purple-400">long population = 7000000000;</code>
                                </div>
                                <div class="mt-3 text-sm text-slate-400">
                                    <i class="fas fa-info-circle mr-1"></i> ใช้เมื่อค่าเกินขอบเขตของ int
                                </div>
                            </div>
                        </div>
                        
                        <h3 class="text-xl font-semibold text-slate-100 mt-8 mb-3 flex items-center">
                            <i class="fas fa-calculator mr-2 text-yellow-400"></i> เครื่องมือของนักคำนวณ: ตัวดำเนินการ (Operators)
                        </h3>
                        <p class="text-slate-300 mb-4">ภาษา C มีเครื่องหมายสำหรับการคำนวณเหมือนกับที่เราเรียนคณิตศาสตร์มาเลยครับ</p>
                        
                        <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-6">
                            <div class="bg-dark-700 p-4 rounded-lg text-center">
                                <div class="text-2xl font-bold text-primary-400 mb-2">+</div>
                                <div class="text-sm text-slate-300">การบวก</div>
                            </div>
                            <div class="bg-dark-700 p-4 rounded-lg text-center">
                                <div class="text-2xl font-bold text-primary-400 mb-2">-</div>
                                <div class="text-sm text-slate-300">การลบ</div>
                            </div>
                            <div class="bg-dark-700 p-4 rounded-lg text-center">
                                <div class="text-2xl font-bold text-primary-400 mb-2">*</div>
                                <div class="text-sm text-slate-300">การคูณ</div>
                            </div>
                            <div class="bg-dark-700 p-4 rounded-lg text-center">
                                <div class="text-2xl font-bold text-primary-400 mb-2">/</div>
                                <div class="text-sm text-slate-300">การหาร</div>
                            </div>
                            <div class="bg-dark-700 p-4 rounded-lg text-center">
                                <div class="text-2xl font-bold text-primary-400 mb-2">%</div>
                                <div class="text-sm text-slate-300">หารเอาเศษ</div>
                            </div>
                        </div>
                        
                        <h3 class="text-xl font-semibold text-slate-100 mt-8 mb-3 flex items-center">
                            <i class="fas fa-plus-circle mr-2 text-green-400"></i> มาสร้างเครื่องบวกเลขอย่างง่ายกัน!
                        </h3>
                        <p class="text-slate-300 mb-4">โปรแกรมนี้จะถามตัวเลขจากเรา 2 ตัว แล้วนำมาบวกกันและแสดงผลลัพธ์ สังเกตว่าเราจะใช้ฟังก์ชัน <strong class="keyword-glossary" data-term="get_int" data-def="ฟังก์ชันจากไลบรารี cs50.h ใช้สำหรับรับข้อมูลประเภทเลขจำนวนเต็ม (int) จากผู้ใช้โดยเฉพาะ">get_int()</strong> และใช้ <strong class="keyword-glossary code-placeholder" data-term="%i" data-def="Format Specifier สำหรับตัวแปรชนิด Integer (จำนวนเต็ม) เพื่อบอกให้ printf นำค่าตัวเลขจำนวนเต็มมาแสดงผล ณ ตำแหน่งนี้">`%i`</strong> ใน `printf` เพื่อแสดงผลตัวเลขครับ</p>
                        
                        <div class="relative mt-6">
                            <div class="absolute top-4 right-4 flex space-x-2">
                                <button class="text-slate-400 hover:text-slate-200" onclick="copyCode('code-calculator')">
                                    <i class="far fa-copy"></i>
                                </button>
                                <button class="text-slate-400 hover:text-slate-200" onclick="runCalculatorDemo()">
                                    <i class="fas fa-play"></i>
                                </button>
                            </div>
                            <pre id="code-calculator" class="code-block"><code class="language-c"><span class="code-comment">// นำเข้าไลบรารีที่จำเป็น</span>
                <span class="keyword-glossary" data-term="#include" data-def="คำสั่ง 'พรีโปรเซสเซอร์' ใช้บอกคอมไพเลอร์ว่า 'ช่วยไปเอาโค้ดจากไฟล์อื่นมารวมกับไฟล์นี้ที'">#include</span> <span class="code-string">&lt;<span class="keyword-glossary" data-term="cs50.h" data-def="ไลบรารี (กล่องเครื่องมือ) พิเศษของ CS50 ที่มีฟังก์ชันอำนวยความสะดวก เช่น get_string(), get_int() ทำให้การรับข้อมูลจากผู้ใช้ทำได้ง่ายขึ้นมาก">cs50.h</span>&gt;</span>
                <span class="keyword-glossary" data-term="#include" data-def="คำสั่ง 'พรีโปรเซสเซอร์' ใช้บอกคอมไพเลอร์ว่า 'ช่วยไปเอาโค้ดจากไฟล์อื่นมารวมกับไฟล์นี้ที'">#include</span> <span class="code-string">&lt;<span class="keyword-glossary" data-term="stdio.h" data-def="ชื่อของ 'กล่องเครื่องมือ' มาตรฐาน (Standard Input/Output Header) ที่มีฟังก์ชันพื้นฐานอย่าง printf() อยู่ข้างใน">stdio.h</span>&gt;</span>

                <span class="keyword-glossary" data-term="int" data-def="ชนิดข้อมูลสำหรับเก็บ 'เลขจำนวนเต็ม' (Integer)">int</span> <span class="keyword-glossary code-function" data-term="main" data-def="คือชื่อฟังก์ชันที่พิเศษที่สุด ถือเป็น 'ประตูทางเข้าหลัก' ของทุกโปรแกรมในภาษา C">main</span>(<span class="keyword-glossary" data-term="void" data-def="แปลว่า 'ว่างเปล่า' ในที่นี้หมายความว่าฟังก์ชัน main ไม่ต้องการรับข้อมูลใดๆ จากภายนอกเพื่อเริ่มทำงาน">void</span>)
                <span class="keyword-glossary" data-term="{ }" data-def="ปีกกา คือสัญลักษณ์ที่ใช้กำหนด 'ขอบเขต' การทำงานของฟังก์ชัน หรือบล็อกของโค้ด">{</span>
                    <span class="code-comment">// รับค่า x จากผู้ใช้</span>
                    <span class="keyword-glossary" data-term="int" data-def="ชนิดข้อมูลสำหรับเก็บ 'เลขจำนวนเต็ม' (Integer)">int</span> x = <span class="keyword-glossary code-function" data-term="get_int" data-def="ฟังก์ชันจากไลบรารี cs50.h ใช้สำหรับรับข้อมูลประเภทเลขจำนวนเต็ม (int) จากผู้ใช้โดยเฉพาะ">get_int</span>(<span class="code-string">"x: "</span>);
                    
                    <span class="code-comment">// รับค่า y จากผู้ใช้</span>
                    <span class="keyword-glossary" data-term="int" data-def="ชนิดข้อมูลสำหรับเก็บ 'เลขจำนวนเต็ม' (Integer)">int</span> y = <span class="keyword-glossary code-function" data-term="get_int" data-def="ฟังก์ชันจากไลบรารี cs50.h ใช้สำหรับรับข้อมูลประเภทเลขจำนวนเต็ม (int) จากผู้ใช้โดยเฉพาะ">get_int</span>(<span class="code-string">"y: "</span>);

                    <span class="code-comment">// คำนวณผลรวมแล้วแสดงผล</span>
                    <span class="keyword-glossary code-function" data-term="printf" data-def="ฟังก์ชันสำหรับแสดงผลข้อความหรือค่าของตัวแปรออกไปยังหน้าจอ">printf</span>(<span class="code-string">"The sum is <span class="keyword-glossary code-placeholder" data-term="%i" data-def="Format Specifier สำหรับตัวแปรชนิด Integer (จำนวนเต็ม) เพื่อบอกให้ printf นำค่าตัวเลขจำนวนเต็มมาแสดงผล ณ ตำแหน่งนี้">%i</span>\n"</span>, x + y);
                <span class="keyword-glossary" data-term="{ }" data-def="ปีกกา คือสัญลักษณ์ที่ใช้กำหนด 'ขอบเขต' การทำงานของฟังก์ชัน หรือบล็อกของโค้ด">}</span></code></pre>
                        </div>
                        
                        <!-- ห้องทดลองเครื่องคิดเลข -->
                        <div class="interactive-card mt-8">
                            <h3 class="text-xl font-semibold text-slate-100 mb-4 flex items-center">
                                <i class="fas fa-flask mr-2 text-purple-400"></i> ห้องทดลองเครื่องคิดเลข
                            </h3>
                            <p class="text-slate-300 mb-4">ทดลองใช้เครื่องคิดเลขที่เราสร้างด้วยภาษา C โดยป้อนตัวเลขสองค่าและเลือกการดำเนินการ</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="bg-dark-800 p-5 rounded-lg">
                                    <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                        <i class="fas fa-sliders-h mr-2 text-blue-400"></i> ป้อนข้อมูล
                                    </h4>
                                    
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-slate-300 mb-2">ค่า x:</label>
                                            <input type="number" id="calc-x" class="input-field w-full" placeholder="ป้อนตัวเลข" value="15">
                                        </div>
                                        
                                        <div>
                                            <label class="block text-slate-300 mb-2">ค่า y:</label>
                                            <input type="number" id="calc-y" class="input-field w-full" placeholder="ป้อนตัวเลข" value="8">
                                        </div>
                                        
                                        <div>
                                            <label class="block text-slate-300 mb-2">การดำเนินการ:</label>
                                            <div class="grid grid-cols-4 gap-2">
                                                <button data-op="+" class="calc-op-btn bg-dark-700 hover:bg-dark-600 py-2 rounded transition-colors">+</button>
                                                <button data-op="-" class="calc-op-btn bg-dark-700 hover:bg-dark-600 py-2 rounded transition-colors">-</button>
                                                <button data-op="*" class="calc-op-btn bg-dark-700 hover:bg-dark-600 py-2 rounded transition-colors">×</button>
                                                <button data-op="/" class="calc-op-btn bg-dark-700 hover:bg-dark-600 py-2 rounded transition-colors">÷</button>
                                            </div>
                                        </div>
                                        
                                        <div>
                                            <button id="run-calculator-btn" class="btn-primary w-full">
                                                <i class="fas fa-calculator mr-2"></i> คำนวณผลลัพธ์
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-dark-800 p-5 rounded-lg">
                                    <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                        <i class="fas fa-chart-bar mr-2 text-green-400"></i> ผลลัพธ์การคำนวณ
                                    </h4>
                                    
                                    <div id="calculator-output" class="mb-4">
                                        <div class="text-center py-8 text-slate-400">
                                            <i class="fas fa-arrow-left text-lg mb-2"></i>
                                            <p>ป้อนตัวเลขและเลือกการดำเนินการ</p>
                                        </div>
                                    </div>
                                    
                                    <div class="bg-dark-900 p-4 rounded-lg">
                                        <h5 class="text-md font-semibold text-slate-200 mb-2 flex items-center">
                                            <i class="fas fa-info-circle mr-2 text-yellow-400"></i> ข้อมูลจำลองการทำงาน
                                        </h5>
                                        <div class="text-sm text-slate-400">
                                            <p class="mb-1"><span class="inline-block w-20">x:</span> <span id="sim-x">0</span></p>
                                            <p class="mb-1"><span class="inline-block w-20">y:</span> <span id="sim-y">0</span></p>
                                            <p class="mb-1"><span class="inline-block w-20">Operation:</span> <span id="sim-op">?</span></p>
                                            <p class="mb-1"><span class="inline-block w-20">Result:</span> <span id="sim-result">0</span></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- ส่วนการคำนวณขั้นสูง -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                            <div class="interactive-card">
                                <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                    <i class="fas fa-exclamation-triangle mr-2 text-yellow-400"></i> ข้อควรระวัง: การหารจำนวนเต็ม
                                </h4>
                                <p class="text-slate-300 mb-4">
                                    ในภาษา C การหารจำนวนเต็มด้วยจำนวนเต็มจะได้ผลลัพธ์เป็นจำนวนเต็มเท่านั้น โดยจะตัดส่วนทศนิยมทิ้งไป
                                </p>
                                <div class="bg-dark-800 p-4 rounded-lg">
                                    <code class="text-amber-400">int a = 10, b = 3;<br>int result = a / b; // ได้ 3 ไม่ใช่ 3.333</code>
                                </div>
                            </div>
                            
                            <!-- แก้ไขส่วน "เทคนิค: การแปลงชนิดข้อมูล" เป็นดังนี้ -->
                            <div class="interactive-card">
                                <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                    <i class="fas fa-exchange-alt mr-2 text-blue-400"></i> เทคนิค: การแปลงชนิดข้อมูล (Type Casting)
                                </h4>
                                <p class="text-slate-300 mb-4">
                                    Type Casting คือการแปลงชนิดข้อมูลจากประเภทหนึ่งไปเป็นอีกประเภทหนึ่ง โดยเฉพาะเมื่อทำงานกับตัวเลขประเภทต่างกัน
                                </p>
                                
                                <div class="bg-dark-800 p-4 rounded-lg mb-4">
                                    <pre class="code-block"><code class="language-c"><span class="code-comment">// ตัวอย่างการแปลงชนิดข้อมูล</span>
                            <span class="code-keyword">int</span> a = 10, b = 3;

                            <span class="code-comment">// แบบ implicit casting (แปลงโดยอัตโนมัติ)</span>
                            <span class="code-keyword">float</span> result1 = a; <span class="code-comment">// int → float</span>

                            <span class="code-comment">// แบบ explicit casting (แปลงแบบชัดเจน)</span>
                            <span class="code-keyword">float</span> result2 = (<span class="code-keyword">float</span>) a / b; <span class="code-comment">// ได้ 3.333</span>

                            <span class="code-comment">// แปลง float เป็น int (ตัดส่วนทศนิยมทิ้ง)</span>
                            <span class="code-keyword">float</span> pi = 3.14159;
                            <span class="code-keyword">int</span> intPi = (<span class="code-keyword">int</span>) pi; <span class="code-comment">// ได้ 3</span></code></pre>
                                </div>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                    <div class="bg-blue-900 bg-opacity-20 p-3 rounded-lg">
                                        <h5 class="font-semibold text-blue-300 mb-2">
                                            <i class="fas fa-arrow-right-arrow-left mr-2"></i> การแปลงโดยอัตโนมัติ
                                        </h5>
                                        <ul class="text-sm text-blue-200 space-y-1">
                                            <li>int → float (ไม่สูญเสียข้อมูล)</li>
                                            <li>float → double (ไม่สูญเสียข้อมูล)</li>
                                            <li>char → int (ใช้ค่า ASCII)</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="bg-amber-900 bg-opacity-20 p-3 rounded-lg">
                                        <h5 class="font-semibold text-amber-300 mb-2">
                                            <i class="fas fa-exclamation-triangle mr-2"></i> การแปลงที่อาจสูญเสียข้อมูล
                                        </h5>
                                        <ul class="text-sm text-amber-200 space-y-1">
                                            <li>float → int (ตัดทศนิยม)</li>
                                            <li>double → float (อาจสูญเสียความแม่นยำ)</li>
                                            <li>int → char (อาจเกินขอบเขต)</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <!-- ส่วน Interactive Type Casting -->
                                <div class="mt-4 p-4 bg-dark-800 rounded-lg border border-dark-700">
                                    <h5 class="font-semibold text-slate-100 mb-3 flex items-center">
                                        <i class="fas fa-flask mr-2 text-purple-400"></i> ห้องทดลอง Type Casting
                                    </h5>
                                    
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                        <div>
                                            <label class="block text-slate-300 mb-2">ค่าเริ่มต้น:</label>
                                            <input type="text" id="cast-value" class="input-field w-full" value="3.14159" placeholder="เช่น 10, 3.14, 'A'">
                                        </div>
                                        <div>
                                            <label class="block text-slate-300 mb-2">แปลงเป็น:</label>
                                            <select id="cast-type" class="input-field w-full">
                                                <option value="int">int (จำนวนเต็ม)</option>
                                                <option value="float">float (ทศนิยม)</option>
                                                <option value="char">char (ตัวอักษร)</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <button id="run-cast-btn" class="btn-primary w-full mb-4">
                                        <i class="fas fa-bolt mr-2"></i> รันการแปลง
                                    </button>
                                    
                                    <div id="cast-result" class="bg-dark-900 p-4 rounded-lg text-center">
                                        <div class="text-lg text-slate-400">ผลลัพธ์จะแสดงที่นี่</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-8 p-4 bg-dark-800 border border-dark-700 rounded-lg">
                            <p class="text-lg text-center text-slate-200 font-medium">
                                <i class="fas fa-star text-yellow-400 mr-2"></i> เพียงเท่านี้ คุณก็ได้สร้างโปรแกรมที่ไม่ได้แค่โต้ตอบ แต่ยัง "คิด" และคำนวณให้คุณได้แล้ว!
                            </p>
                        </div>
                    </div>
                </section>

                <!-- ======= บทที่ 5: โปรแกรมผู้มีวิจารณญาณ ======= -->
                <section id="c-conditionals" class="scroll-mt-16">
                    <div class="content-card">
                        <div class="flex items-start section-header">
                            <div class="section-icon" style="background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);">
                                <i class="fas fa-random text-white text-xl"></i>
                            </div>
                            <div>
                                <h2 class="text-3xl font-bold text-slate-100 mb-2">บทที่ 5: โปรแกรมผู้มีวิจารณญาณ (Conditionals)</h2>
                                <div class="flex items-center text-slate-400 mb-4">
                                    <i class="far fa-clock mr-1"></i>
                                    <span class="text-sm">ระยะเวลาอ่าน: 9 นาที</span>
                                </div>
                            </div>
                        </div>
                        
                        <p class="text-slate-300 mb-4 leading-relaxed">
                            ถึงตอนนี้ โปรแกรมของเราทำงานเป็นเส้นตรงตั้งแต่ต้นจนจบ แต่ในโลกแห่งความเป็นจริง เราต้องตัดสินใจอยู่ตลอดเวลา "ถ้าฝนตก ให้กางร่ม แต่ถ้าไม่ ก็ไม่ต้อง" โปรแกรมคอมพิวเตอร์ก็เช่นกันครับ ในบทนี้ เราจะมาสอนให้โปรแกรมของเรามี "ทางแยก" และเลือกเดินไปในเส้นทางที่ถูกต้องได้
                        </p>
                        
                        <h3 class="text-xl font-semibold text-slate-100 mt-8 mb-3 flex items-center">
                            <i class="fas fa-question-circle mr-2 text-blue-400"></i> คำถามประเภท ใช่/ไม่ใช่ (Boolean Expressions)
                        </h3>
                        <p class="text-slate-300 mb-4 leading-relaxed">
                            หัวใจของการตัดสินใจคือการตั้ง "คำถาม" ที่มีคำตอบแค่ "จริง" (True) หรือ "เท็จ" (False) เท่านั้น ในทางคอมพิวเตอร์ เราเรียกตรรกะแบบนี้ว่า <strong class="keyword-glossary" data-term="Boolean" data-def="ตรรกะแบบบูลีน คือระบบคิดที่มีผลลัพธ์เพียง 2 อย่างคือ จริง (true) หรือ เท็จ (false) เป็นพื้นฐานของการตัดสินใจทั้งหมดในคอมพิวเตอร์">Boolean</strong> ครับ เช่น คำถาม "5 มากกว่า 3 หรือไม่?" คำตอบคือ "จริง" ส่วนคำถาม "10 เท่ากับ 1 หรือไม่?" คำตอบคือ "เท็จ"
                        </p>
                        
                        <h3 class="text-xl font-semibold text-slate-100 mt-8 mb-3 flex items-center">
                            <i class="fas fa-compress-arrows-alt mr-2 text-green-400"></i> เครื่องมือสำหรับเปรียบเทียบ (Comparison Operators)
                        </h3>
                        <p class="text-slate-300 mb-4">เพื่อสร้างคำถามแบบ Boolean ในภาษา C เราจะใช้เครื่องหมายเหล่านี้ในการเปรียบเทียบค่าสองข้างครับ</p>
                        
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-6">
                            <div class="bg-dark-700 p-4 rounded-lg">
                                <div class="text-2xl font-mono text-center text-primary-400 mb-2">&gt;</div>
                                <div class="text-center text-sm text-slate-300">มากกว่า</div>
                            </div>
                            <div class="bg-dark-700 p-4 rounded-lg">
                                <div class="text-2xl font-mono text-center text-primary-400 mb-2">&lt;</div>
                                <div class="text-center text-sm text-slate-300">น้อยกว่า</div>
                            </div>
                            <div class="bg-dark-700 p-4 rounded-lg">
                                <div class="text-2xl font-mono text-center text-primary-400 mb-2">&gt;=</div>
                                <div class="text-center text-sm text-slate-300">มากกว่าหรือเท่ากับ</div>
                            </div>
                            <div class="bg-dark-700 p-4 rounded-lg">
                                <div class="text-2xl font-mono text-center text-primary-400 mb-2">&lt;=</div>
                                <div class="text-center text-sm text-slate-300">น้อยกว่าหรือเท่ากับ</div>
                            </div>
                            <div class="bg-dark-700 p-4 rounded-lg">
                                <div class="text-2xl font-mono text-center text-primary-400 mb-2">==</div>
                                <div class="text-center text-sm text-slate-300">เท่ากัน</div>
                            </div>
                            <div class="bg-dark-700 p-4 rounded-lg">
                                <div class="text-2xl font-mono text-center text-primary-400 mb-2">!=</div>
                                <div class="text-center text-sm text-slate-300">ไม่เท่ากัน</div>
                            </div>
                        </div>
                        
                        <div class="bg-amber-900 bg-opacity-20 border-l-4 border-amber-400 p-4 my-6 rounded-lg">
                            <p class="font-bold text-amber-300 mb-2 flex items-center">
                                <i class="fas fa-exclamation-triangle mr-2"></i> ข้อควรระวังสุดคลาสสิก!
                            </p>
                            <p class="text-amber-200 mb-2"><code class="bg-amber-900 px-2 py-1 rounded">=</code> (ตัวเดียว) คือการ <strong>กำหนดค่า</strong> (Assignment) เช่น <code class="bg-amber-900 px-2 py-1 rounded">x = 5;</code> คือ "เอา 5 ไปใส่ในกล่อง x"</p>
                            <p class="text-amber-200"><code class="bg-amber-900 px-2 py-1 rounded">==</code> (สองตัว) คือการ <strong>เปรียบเทียบ</strong> (Comparison) เช่น <code class="bg-amber-900 px-2 py-1 rounded">x == 5;</code> คือ "ถามว่าค่าในกล่อง x เท่ากับ 5 หรือไม่?"</p>
                        </div>
                        
                        <h3 class="text-xl font-semibold text-slate-100 mt-8 mb-3 flex items-center">
                            <i class="fas fa-code-branch mr-2 text-purple-400"></i> สร้างทางแยกด้วย `if-else`
                        </h3>
                        <p class="text-slate-300 mb-4">นี่คือโปรแกรมที่จะรับเลขมา 2 ตัว แล้วเปรียบเทียบกันโดยใช้โครงสร้าง <strong class="keyword-glossary" data-term="if-else" data-def="ชุดคำสั่งที่ใช้สร้างเงื่อนไข ถ้าเงื่อนไขใน if เป็นจริง จะทำคำสั่งในบล็อกของ if แต่ถ้าเป็นเท็จ จะไปตรวจสอบเงื่อนไขถัดไป (else if) หรือทำคำสั่งในบล็อกของ else แทน">`if-else`</strong> ครับ</p>
                        
                        <div class="relative mt-6">
                            <div class="absolute top-4 right-4 flex space-x-2">
                                <button class="text-slate-400 hover:text-slate-200" onclick="copyCode('code-conditionals')">
                                    <i class="far fa-copy"></i>
                                </button>
                                <button class="text-slate-400 hover:text-slate-200" onclick="runConditionalDemo()">
                                    <i class="fas fa-play"></i>
                                </button>
                            </div>
                            <pre id="code-conditionals" class="code-block"><code class="language-c"><span class="code-comment">// นำเข้าไลบรารีที่จำเป็น</span>
                <span class="keyword-glossary" data-term="#include" data-def="คำสั่ง 'พรีโปรเซสเซอร์' ใช้บอกคอมไพเลอร์ว่า 'ช่วยไปเอาโค้ดจากไฟล์อื่นมารวมกับไฟล์นี้ที'">#include</span> <span class="code-string">&lt;<span class="keyword-glossary" data-term="cs50.h" data-def="ไลบรารีพิเศษของ CS50 ที่มีฟังก์ชันอำนวยความสะดวก">cs50.h</span>&gt;</span>
                <span class="keyword-glossary" data-term="#include" data-def="คำสั่ง 'พรีโปรเซสเซอร์' ใช้บอกคอมไพเลอร์ว่า 'ช่วยไปเอาโค้ดจากไฟล์อื่นมารวมกับไฟล์นี้ที'">#include</span> <span class="code-string">&lt;<span class="keyword-glossary" data-term="stdio.h" data-def="ไลบรารีมาตรฐานสำหรับ Input/Output">stdio.h</span>&gt;</span>

                <span class="keyword-glossary" data-term="int" data-def="ชนิดข้อมูลเลขจำนวนเต็ม">int</span> <span class="keyword-glossary code-function" data-term="main" data-def="ฟังก์ชันหลัก จุดเริ่มต้นของโปรแกรม">main</span>(<span class="keyword-glossary" data-term="void" data-def="หมายความว่าฟังก์ชันนี้ไม่รับค่าใดๆ">void</span>)
                <span class="keyword-glossary" data-term="{ }">{</span>
                    <span class="code-comment">// รับค่า x และ y จากผู้ใช้</span>
                    <span class="keyword-glossary" data-term="int" data-def="ชนิดข้อมูลเลขจำนวนเต็ม">int</span> x = <span class="keyword-glossary code-function" data-term="get_int" data-def="ฟังก์ชันรับเลขจำนวนเต็มจากผู้ใช้">get_int</span>(<span class="code-string">"What's x? "</span>);
                    <span class="keyword-glossary" data-term="int" data-def="ชนิดข้อมูลเลขจำนวนเต็ม">int</span> y = <span class="keyword-glossary code-function" data-term="get_int" data-def="ฟังก์ชันรับเลขจำนวนเต็มจากผู้ใช้">get_int</span>(<span class="code-string">"What's y? "</span>);

                    <span class="code-comment">// เริ่มการตัดสินใจ</span>
                    <span class="keyword-glossary" data-term="if" data-def="คำสั่งเริ่มต้นเงื่อนไข 'ถ้า...' เพื่อตรวจสอบว่าสิ่งที่อยู่ในวงเล็บเป็นจริงหรือไม่">if</span> (x < y)
                    <span class="keyword-glossary" data-term="{ }">{</span>
                        <span class="keyword-glossary code-function" data-term="printf" data-def="ฟังก์ชันแสดงผลข้อความ">printf</span>(<span class="code-string">"x is less than y\n"</span>);
                    <span class="keyword-glossary" data-term="{ }">}</span>
                    <span class="keyword-glossary" data-term="else if" data-def="คำสั่งเงื่อนไข '...หรือถ้า...' เป็นทางเลือกที่สอง ถ้าเงื่อนไข if แรกไม่เป็นจริง">else if</span> (x > y)
                    <span class="keyword-glossary" data-term="{ }">{</span>
                        <span class="keyword-glossary code-function" data-term="printf" data-def="ฟังก์ชันแสดงผลข้อความ">printf</span>(<span class="code-string">"x is greater than y\n"</span>);
                    <span class="keyword-glossary" data-term="{ }">}</span>
                    <span class="keyword-glossary" data-term="else" data-def="คำสั่งที่จะทำงาน 'ในกรณีอื่นๆ' ที่เงื่อนไข if และ else if ข้างบนไม่เป็นจริงเลย">else</span>
                    <span class="keyword-glossary" data-term="{ }">{</span>
                        <span class="keyword-glossary code-function" data-term="printf" data-def="ฟังก์ชันแสดงผลข้อความ">printf</span>(<span class="code-string">"x is equal to y\n"</span>);
                    <span class="keyword-glossary" data-term="{ }">}</span>
                <span class="keyword-glossary" data-term="{ }">}</span></code></pre>
                        </div>

                        <!-- ห้องทดลองการตัดสินใจ: ซื้อตั๋วหนัง -->
                        <div class="interactive-card mt-8">
                            <h3 class="text-xl font-semibold text-slate-100 mb-4 flex items-center">
                                <i class="fas fa-ticket-alt mr-2 text-purple-400"></i> ห้องทดลองการตัดสินใจ: ซื้อตั๋วหนัง
                            </h3>
                            <p class="text-slate-300 mb-4">ลองป้อนอายุของคุณ แล้วดูสิว่าโปรแกรมจะตัดสินใจเลือกเส้นทางไหนให้คุณ!</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="bg-dark-800 p-5 rounded-lg">
                                    <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                        <i class="fas fa-user mr-2 text-blue-400"></i> ข้อมูลผู้ใช้
                                    </h4>
                                    
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-slate-300 mb-2">อายุของคุณ:</label>
                                            <input type="number" id="user-age" class="input-field w-full" placeholder="ป้อนอายุ" value="20" min="1" max="120">
                                        </div>
                                        
                                        <div>
                                            <label class="block text-slate-300 mb-2">ภาพยนตร์ที่ต้องการดู:</label>
                                            <div class="grid grid-cols-1 gap-2">
                                                <div class="flex items-center p-3 bg-dark-700 rounded-lg">
                                                    <input type="radio" id="movie-g" name="movie" value="G" class="mr-3" checked>
                                                    <label for="movie-g" class="text-slate-300">G: ทุกวัย (General)</label>
                                                </div>
                                                <div class="flex items-center p-3 bg-dark-700 rounded-lg">
                                                    <input type="radio" id="movie-pg13" name="movie" value="PG-13" class="mr-3">
                                                    <label for="movie-pg13" class="text-slate-300">PG-13: 13 ปีขึ้นไป</label>
                                                </div>
                                                <div class="flex items-center p-3 bg-dark-700 rounded-lg">
                                                    <input type="radio" id="movie-r" name="movie" value="R" class="mr-3">
                                                    <label for="movie-r" class="text-slate-300">R: 18 ปีขึ้นไป (Restricted)</label>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div>
                                            <button id="check-ticket-btn" class="btn-primary w-full">
                                                <i class="fas fa-ticket-alt mr-2"></i> ตรวจสอบสิทธิ์
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-dark-800 p-5 rounded-lg">
                                    <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                        <i class="fas fa-clipboard-check mr-2 text-green-400"></i> ผลลัพธ์การตัดสินใจ
                                    </h4>
                                    
                                    <div id="decision-output" class="mb-4">
                                        <div class="text-center py-8 text-slate-400">
                                            <i class="fas fa-arrow-left text-lg mb-2"></i>
                                            <p>ป้อนอายุและเลือกภาพยนตร์เพื่อตรวจสอบ</p>
                                        </div>
                                    </div>
                                    
                                    <div class="bg-dark-900 p-4 rounded-lg">
                                        <h5 class="text-md font-semibold text-slate-200 mb-2 flex items-center">
                                            <i class="fas fa-code mr-2 text-yellow-400"></i> เบื้องหลังการทำงาน
                                        </h5>
                                        <div id="code-simulation" class="text-sm text-slate-400 font-mono overflow-x-auto">
                                            // โค้ดจำลองการทำงาน
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="bg-blue-900 bg-opacity-20 border border-blue-700 rounded-lg p-4">
                                    <div class="text-blue-400 text-3xl mb-2 text-center">G</div>
                                    <p class="text-center text-blue-300">ทุกวัย</p>
                                </div>
                                <div class="bg-amber-900 bg-opacity-20 border border-amber-700 rounded-lg p-4">
                                    <div class="text-amber-400 text-3xl mb-2 text-center">PG-13</div>
                                    <p class="text-center text-amber-300">13 ปีขึ้นไป</p>
                                </div>
                                <div class="bg-red-900 bg-opacity-20 border border-red-700 rounded-lg p-4">
                                    <div class="text-red-400 text-3xl mb-2 text-center">R</div>
                                    <p class="text-center text-red-300">18 ปีขึ้นไป</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-8 p-4 bg-dark-800 border border-dark-700 rounded-lg">
                            <p class="text-lg text-center text-slate-200 font-medium">
                                <i class="fas fa-star text-yellow-400 mr-2"></i> สุดยอด! ตอนนี้โปรแกรมของคุณไม่ได้เป็นแค่เครื่องคิดเลขที่ซื่อบื้ออีกต่อไป แต่มันสามารถวิเคราะห์และให้คำตอบที่แตกต่างกันตามสถานการณ์ได้แล้ว
                            </p>
                        </div>
                    </div>
                </section>

                <!-- ======= บทที่ 6: การทำงานซ้ำอย่างไม่รู้จักเหนื่อย ======= -->
                <section id="c-loops" class="scroll-mt-16">
                    <div class="content-card">
                        <div class="flex items-start section-header">
                            <div class="section-icon" style="background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);">
                                <i class="fas fa-redo-alt text-white text-xl"></i>
                            </div>
                            <div>
                                <h2 class="text-3xl font-bold text-slate-100 mb-2">บทที่ 6: การทำงานซ้ำอย่างไม่รู้จักเหนื่อย (Loops)</h2>
                                <div class="flex items-center text-slate-400 mb-4">
                                    <i class="far fa-clock mr-1"></i>
                                    <span class="text-sm">ระยะเวลาอ่าน: 10 นาที</span>
                                </div>
                            </div>
                        </div>
                        
                        <p class="text-slate-300 mb-4 leading-relaxed">
                            เราได้สอนให้โปรแกรมตัดสินใจเป็นแล้ว แต่งานที่คอมพิวเตอร์ทำได้ดีที่สุดคืองานซ้ำซากที่มนุษย์เราเบื่อที่จะทำ ถ้าคุณต้องตอกตะปู 100 ตัว คุณคงไม่อยากนับ 1, 2, 3... ไปเรื่อยๆ ใช่ไหมครับ? คุณแค่อยากจะสั่งว่า "ตอกตะปู 100 ตัว" แล้วก็ปล่อยให้เป็นหน้าที่ของเครื่องจักร ลูปในโปรแกรมก็ทำงานแบบนั้นแหละครับ
                        </p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
                            <div class="interactive-card">
                                <h3 class="text-xl font-semibold text-slate-100 mb-3 flex items-center">
                                    <i class="fas fa-sync-alt mr-2 text-blue-400"></i> ลูปแบบ `while`: ทำไปเรื่อยๆ จนกว่าเงื่อนไขจะไม่จริง
                                </h3>
                                <p class="text-slate-300 mb-4">
                                    <strong class="keyword-glossary" data-term="while loop" data-def="ลูปที่ทำงานโดยตรวจสอบเงื่อนไขก่อน ถ้าเงื่อนไขเป็นจริง ก็จะทำงานในบล็อกของตัวเองไปเรื่อยๆ จนกว่าเงื่อนไขจะเป็นเท็จ">while loop</strong> เหมือนการถามคำถามง่ายๆ ว่า "ยังต้องทำอยู่ไหม?" ถ้าคำตอบคือ "ใช่" ก็ทำต่อไป แล้วค่อยกลับมาถามใหม่ เป็นลูปที่เหมาะกับงานที่เราไม่รู้จำนวนรอบที่แน่นอน แต่รู้ว่าต้องทำไปจนกว่าจะเกิดอะไรบางอย่างขึ้น
                                </p>
                                
                                <div class="bg-dark-800 p-4 rounded-lg mt-4">
                                    <pre class="code-block"><code class="language-c"><span class="code-comment">// ตัวอย่าง: นับเลขจนกว่าจะถึง 5</span>
                <span class="code-keyword">int</span> counter = 1;
                <span class="code-keyword">while</span> (counter <= 5) {
                    printf(<span class="code-string">"Count: %i\n"</span>, counter);
                    counter++;
                }</code></pre>
                                </div>
                                
                                <div class="bg-red-900 bg-opacity-20 border-l-4 border-red-500 p-4 mt-4 rounded-r-lg">
                                    <p class="font-bold text-red-300 mb-2 flex items-center">
                                        <i class="fas fa-radiation-alt mr-2"></i> คำเตือน: ลูปอนันต์ (Infinite Loop)
                                    </p>
                                    <p class="text-red-200">ข้อควรระวังของ `while` คือ ถ้าเงื่อนไขเป็นจริง "ตลอดไป" โปรแกรมของคุณก็จะทำงานในลูปนั้นไปตลอดกาลจนกว่าจะถูกบังคับปิด! เราจึงต้องมั่นใจว่ามีโค้ดที่ทำให้เงื่อนไขมีโอกาสเป็นเท็จได้อยู่ภายในลูปเสมอ</p>
                                </div>
                            </div>
                            
                            <div class="interactive-card">
                                <h3 class="text-xl font-semibold text-slate-100 mb-3 flex items-center">
                                    <i class="fas fa-fast-forward mr-2 text-green-400"></i> ลูปแบบ `for`: ลูปยอดนิยมสำหรับจำนวนรอบที่แน่นอน
                                </h3>
                                <p class="text-slate-300 mb-4">
                                    <strong class="keyword-glossary" data-term="for loop" data-def="ลูปที่ถูกออกแบบมาให้ทำงานซ้ำตามจำนวนรอบที่กำหนดไว้ชัดเจน โดยรวมเอา 'จุดเริ่มต้น', 'เงื่อนไข' และ 'การเปลี่ยนแปลง' ไว้ในบรรทัดเดียว">for loop</strong> เป็นเครื่องมือที่ทรงพลังและถูกใช้งานบ่อยที่สุด มันถูกออกแบบมาเพื่อทำงานซ้ำในจำนวนรอบที่เรารู้อยู่แล้ว โดยมี 3 ส่วนประกอบสำคัญในวงเล็บ:
                                </p>
                                
                                <ol class="list-decimal list-inside space-y-2 mb-4 text-slate-300">
                                    <li><strong>Initialization (จุดเริ่มต้น):</strong> สร้างตัวแปรนับรอบขึ้นมา (เช่น `int i = 0;`)</li>
                                    <li><strong>Condition (เงื่อนไข):</strong> ตรวจสอบเงื่อนไขก่อนเริ่มแต่ละรอบ (เช่น `i < 10;`)</li>
                                    <li><strong>Increment/Decrement (การเปลี่ยนแปลง):</strong> สิ่งที่จะทำหลังจบแต่ละรอบ (เช่น `i++;` คือการบวกค่า i ไป 1)</li>
                                </ol>
                                
                                <div class="bg-dark-800 p-4 rounded-lg mt-4">
                                    <pre class="code-block"><code class="language-c"><span class="code-comment">// ตัวอย่าง: พิมพ์ "Hello" 3 ครั้ง</span>
                <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i = 0; i < 3; i++) {
                    printf(<span class="code-string">"Hello\n"</span>);
                }</code></pre>
                                </div>
                                
                                <div class="bg-blue-900 bg-opacity-20 border-l-4 border-blue-500 p-4 mt-4 rounded-r-lg">
                                    <p class="font-bold text-loop-highlight mb-2 flex items-center">
                                        <i class="fas fa-lightbulb mr-2"></i> เทคนิคการใช้งาน
                                    </p>
                                    <p class="text-loop-highlight">คุณสามารถใช้ `for` loop ในการวนลูปจากค่าสูงลงมาค่าต่ำได้ โดยใช้การลดค่าตัวนับ: <code>for (int i = 10; i > 0; i--)</code></p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- ห้องทดลองลูป: สั่งน้องหมาให้เห่า! -->
                        <div class="interactive-card mt-8">
                            <h3 class="text-xl font-semibold text-slate-100 mb-4 flex items-center">
                                <i class="fas fa-dog mr-2 text-amber-400"></i> ห้องทดลองลูป: สั่งน้องหมาให้เห่า!
                            </h3>
                            <p class="text-slate-300 mb-4">ลองป้อนจำนวนครั้ง แล้วดูซิว่าลูปแบบ `for` และ `while` ทำงานเหมือนกันได้อย่างไร</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                <div class="bg-dark-800 p-5 rounded-lg">
                                    <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                        <i class="fas fa-sliders-h mr-2 text-blue-400"></i> ควบคุมลูป
                                    </h4>
                                    
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-slate-300 mb-2">จำนวนครั้งที่จะเห่า:</label>
                                            <input type="range" id="bark-count" min="1" max="10" value="3" class="w-full">
                                            <div class="flex justify-between">
                                                <span class="text-sm text-slate-400">1 ครั้ง</span>
                                                <span id="bark-count-value" class="font-bold text-amber-400">3 ครั้ง</span>
                                                <span class="text-sm text-slate-400">10 ครั้ง</span>
                                            </div>
                                        </div>
                                        
                                        <div>
                                            <label class="block text-slate-300 mb-2">ประเภทลูป:</label>
                                            <div class="flex space-x-2" id="loop-toggle-btns">
                                                <button data-loop-type="for" class="loop-type-btn active bg-primary-500 text-white py-2 px-4 rounded transition-colors">
                                                    for loop
                                                </button>
                                                <button data-loop-type="while" class="loop-type-btn bg-dark-700 hover:bg-dark-600 py-2 px-4 rounded transition-colors">
                                                    while loop
                                                </button>
                                            </div>
                                        </div>

                                        <!-- ในส่วน "ควบคุมลูป" ใต้ประเภทลูป -->
                                        <div class="mt-4">
                                            <label class="block text-slate-300 mb-2">ตัวควบคุมลูป:</label>
                                            <div class="grid grid-cols-2 gap-2">
                                                <button id="break-btn" class="loop-control-btn bg-red-900 bg-opacity-30 hover:bg-red-800 py-2 px-4 rounded transition-colors">
                                                    <i class="fas fa-stop-circle mr-2"></i> break
                                                </button>
                                                <button id="continue-btn" class="loop-control-btn bg-blue-900 bg-opacity-30 hover:bg-blue-800 py-2 px-4 rounded transition-colors">
                                                    <i class="fas fa-forward mr-2"></i> continue
                                                </button>
                                            </div>
                                            
                                            <!-- เงื่อนไขสำหรับ break/continue -->
                                            <div id="loop-condition" class="mt-4 hidden">
                                                <label class="block text-slate-300 mb-2">หยุด/ข้ามเมื่อถึงรอบที่:</label>
                                                <input type="number" id="control-point" min="1" max="10" value="3" class="input-field w-full">
                                            </div>
                                        </div>
                                        
                                        <div>
                                            <button id="bark-btn" class="btn-primary w-full">
                                                <i class="fas fa-play mr-2"></i> เริ่มเห่า!
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-dark-800 p-5 rounded-lg md:col-span-2">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div>
                                            <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                                <i class="fas fa-terminal mr-2 text-green-400"></i> ผลลัพธ์:
                                            </h4>
                                            <div id="bark-result" class="bg-dark-900 p-4 rounded-lg min-h-[150px] font-mono text-slate-100 whitespace-pre-wrap">
                                                <!-- ผลลัพธ์จะแสดงที่นี่ -->
                                            </div>
                                        </div>
                                        
                                        <div>
                                            <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                                <i class="fas fa-code mr-2 text-blue-400"></i> โค้ดที่ใช้:
                                            </h4>
                                            <div id="loop-code" class="bg-dark-900 p-4 rounded-lg min-h-[150px] font-mono text-sm text-slate-100 whitespace-pre overflow-x-auto">
                                                // โค้ดจะแสดงที่นี่
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-6">
                                        <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                            <i class="fas fa-history mr-2 text-purple-400"></i> การทำงานของลูป:
                                        </h4>
                                        <div class="grid grid-cols-4 gap-2 text-center" id="loop-visualization">
                                            <!-- Visualization will be added here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- การเปรียบเทียบลูป -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                            <div class="interactive-card">
                                <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                    <i class="fas fa-exchange-alt mr-2 text-blue-400"></i> เปรียบเทียบ `for` และ `while`
                                </h4>
                                <table class="w-full text-slate-300">
                                    <thead>
                                        <tr class="border-b border-dark-600">
                                            <th class="py-2 text-left">เกณฑ์</th>
                                            <th class="py-2 text-center">for loop</th>
                                            <th class="py-2 text-center">while loop</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="border-b border-dark-700">
                                            <td class="py-3">ความเหมาะสม</td>
                                            <td class="py-3 text-center">จำนวนรอบแน่นอน</td>
                                            <td class="py-3 text-center">จำนวนรอบไม่แน่นอน</td>
                                        </tr>
                                        <tr class="border-b border-dark-700">
                                            <td class="py-3">การตั้งค่าเริ่มต้น</td>
                                            <td class="py-3 text-center">อยู่ในวงเล็บ</td>
                                            <td class="py-3 text-center">ก่อนลูป</td>
                                        </tr>
                                        <tr class="border-b border-dark-700">
                                            <td class="py-3">การอัปเดตตัวนับ</td>
                                            <td class="py-3 text-center">อยู่ในวงเล็บ</td>
                                            <td class="py-3 text-center">ในบล็อคลูป</td>
                                        </tr>
                                        <tr>
                                            <td class="py-3">ความเสี่ยงลูปอนันต์</td>
                                            <td class="py-3 text-center text-green-400">น้อย</td>
                                            <td class="py-3 text-center text-amber-400">มาก</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <div class="interactive-card">
                                <h4 class="text-lg font-semibold text-slate-100 mb-3 flex items-center">
                                    <i class="fas fa-laptop-code mr-2 text-green-400"></i> ตัวอย่างการประยุกต์ใช้งานจริง
                                </h4>
                                <ul class="space-y-3 text-slate-300">
                                    <li class="flex items-start">
                                        <i class="fas fa-circle text-xs mt-2 mr-2 text-primary-400"></i>
                                        <span><strong>การประมวลผลรายการ:</strong> วนลูปผ่านรายการผู้ใช้, สินค้าในตะกร้า, หรือไฟล์ในโฟลเดอร์</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-circle text-xs mt-2 mr-2 text-primary-400"></i>
                                        <span><strong>เกม:</strong> เกมที่ต้องทำงานซ้ำๆ จนกว่าผู้เล่นจะชนะหรือแพ้</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-circle text-xs mt-2 mr-2 text-primary-400"></i>
                                        <span><strong>การคำนวณซ้ำ:</strong> คำนวณค่าทางคณิตศาสตร์ซ้ำๆ เพื่อหาค่าที่แม่นยำ</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-circle text-xs mt-2 mr-2 text-primary-400"></i>
                                        <span><strong>การรอข้อมูล:</strong> วนลูปรอจนกว่าผู้ใช้จะป้อนข้อมูลหรือมีข้อมูลจากเซิร์ฟเวอร์</span>
                                    </li>
                                </ul>
                                
                                <div class="mt-4 bg-dark-800 p-4 rounded-lg">
                                    <pre class="code-block"><code class="language-c"><span class="code-comment">// ตัวอย่าง: คำนวณผลรวมของตัวเลข 1 ถึง n</span>
                <span class="code-keyword">int</span> n = 10;
                <span class="code-keyword">int</span> sum = 0;

                <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i = 1; i <= n; i++) {
                    sum += i;
                }

                printf(<span class="code-string">"Sum of 1 to %i is %i"</span>, n, sum);</code></pre>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-8 p-4 bg-dark-800 border border-dark-700 rounded-lg">
                            <p class="text-lg text-center text-slate-200 font-medium">
                                <i class="fas fa-star text-yellow-400 mr-2"></i> ตอนนี้คุณมีเครื่องมือทรงพลังในการจัดการงานซ้ำๆ แล้ว! ลูปจะช่วยให้คุณเขียนโค้ดที่กระชับและมีประสิทธิภาพมากขึ้น
                            </p>
                        </div>
                    </div>
                </section>
                
                <!-- Remaining sections would follow the same pattern -->
                
            </main>
            
            <div class="mt-12 text-center py-6 border-t border-dark-600">
                <p class="text-slate-400">© 2025 CS50x: The Genesis - สร้างโดย พรี่ทิวปี 4 + deepseek + gemini</p>
                <div class="mt-4 flex justify-center space-x-4">
                    <a href="#" class="text-slate-400 hover:text-primary-400">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="#" class="text-slate-400 hover:text-primary-400">
                        <i class="fab fa-facebook"></i>
                    </a>
                    <a href="#" class="text-slate-400 hover:text-primary-400">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="text-slate-400 hover:text-primary-400">
                        <i class="fab fa-discord"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating navigation -->
    <div class="floating-nav">
        <div class="floating-btn" title="กลับสู่ด้านบน">
            <i class="fas fa-arrow-up"></i>
        </div>
        <!-- แก้ไขในส่วน floating navigation -->
        <div class="floating-btn" id="theme-toggle" title="เปลี่ยนธีม">
            <i class="fas fa-moon" id="theme-icon"></i>
        </div>
        
    </div>

    <!-- Glossary Modal -->
    <div id="glossary-modal-backdrop"></div>
    <div id="glossary-modal">
        <div class="flex justify-between items-center mb-4">
            <h3 id="glossary-term" class="text-2xl font-bold text-primary-400"></h3>
            <button id="glossary-close-btn" class="text-slate-400 hover:text-slate-200">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <p id="glossary-def" class="text-slate-300 leading-relaxed"></p>
        <div class="mt-6 pt-4 border-t border-dark-600">
            <p class="text-sm text-slate-400">
                <i class="fas fa-lightbulb mr-2"></i> คลิกคำศัพท์อื่นๆ ในบทเรียนเพื่อเรียนรู้เพิ่มเติม
            </p>
        </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    // Progress bar
    const progressBar = document.getElementById('progress-bar');
    window.addEventListener('scroll', () => {
        const totalHeight = document.body.scrollHeight - window.innerHeight;
        const progress = (window.scrollY / totalHeight) * 100;
        progressBar.style.width = `${progress}%`;
    });

    // Glossary modal
    const glossaryModal = document.getElementById('glossary-modal');
    const glossaryBackdrop = document.getElementById('glossary-modal-backdrop');
    document.body.addEventListener('click', function(event) {
        if (event.target.classList.contains('keyword-glossary')) {
            event.preventDefault();
            const term = event.target.dataset.term;
            const def = event.target.dataset.def;
            document.getElementById('glossary-term').textContent = term;
            document.getElementById('glossary-def').textContent = def;
            glossaryModal.style.display = 'block';
            glossaryBackdrop.style.display = 'block';
        }
    });
    
    function closeModal() {
        glossaryModal.style.display = 'none';
        glossaryBackdrop.style.display = 'none';
    }
    
    document.getElementById('glossary-close-btn').addEventListener('click', closeModal);
    glossaryBackdrop.addEventListener('click', closeModal);

    // Navigation active state
    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('section');
    
    function setActiveNav() {
        let current = '';
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            if (window.scrollY >= sectionTop - 150) {
                current = section.getAttribute('id');
            }
        });
        
        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href').substring(1) === current) {
                link.classList.add('active');
            }
        });
    }
    
    window.addEventListener('scroll', setActiveNav);
    setActiveNav();
    
    // Floating button - scroll to top
    document.querySelector('.floating-btn:nth-child(1)').addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });
    
    // Card hover effect
    const cards = document.querySelectorAll('.content-card');
    cards.forEach(card => {
        card.addEventListener('mouseenter', () => {
            card.style.transform = 'translateY(-5px)';
        });
        
        card.addEventListener('mouseleave', () => {
            card.style.transform = 'translateY(0)';
        });
    });
});

// ===== ฟังก์ชันสำหรับบทที่ 3 =====
function copyCode(elementId) {
    const codeElement = document.getElementById(elementId);
    const text = codeElement.innerText;
    
    navigator.clipboard.writeText(text).then(() => {
        // แสดงการแจ้งเตือนว่าคัดลอกสำเร็จ
        const originalIcon = event.target.innerHTML;
        event.target.innerHTML = '<i class="fas fa-check"></i>';
        
        setTimeout(() => {
            event.target.innerHTML = originalIcon;
        }, 2000);
    });
}

// แก้ไขฟังก์ชัน runInteractiveDemo()
function runInteractiveDemo() {
    const userNameInput = document.getElementById('user-name');
    const nameError = document.getElementById('name-error');
    const greetingOutput = document.getElementById('greeting-output');
    
    // Reset error state
    userNameInput.classList.remove('border-red-500');
    nameError.classList.add('hidden');
    
    // Validate input
    const userName = userNameInput.value.trim();
    
    if (!userName) {
        showError(userNameInput, nameError, "กรุณาป้อนชื่อของคุณ");
        return;
    }
    
    if (userName.length < 2 || userName.length > 20) {
        showError(userNameInput, nameError, "ชื่อต้องมีความยาว 2-20 ตัวอักษร");
        return;
    }
    
    if (!/^[A-Za-zก-๙\s]+$/.test(userName)) {
        showError(userNameInput, nameError, "ชื่อสามารถใช้ได้เฉพาะตัวอักษรและช่องว่าง");
        return;
    }
    
    // สร้างเอฟเฟกต์การพิมพ์ทีละตัวอักษร
    greetingOutput.innerHTML = '';
    const message = `What's your name? ${userName}\nhello, ${userName}\n`;
    let i = 0;
    
    const typingEffect = setInterval(() => {
        if (i < message.length) {
            greetingOutput.innerHTML += message.charAt(i);
            i++;
            greetingOutput.scrollTop = greetingOutput.scrollHeight;
        } else {
            clearInterval(typingEffect);
        }
    }, 30);
}

// เพิ่มฟังก์ชันแสดง error
function showError(inputElement, errorElement, message) {
    inputElement.classList.add('border-red-500');
    errorElement.querySelector('span').textContent = message;
    errorElement.classList.remove('hidden');
    
    const greetingOutput = document.getElementById('greeting-output');
    greetingOutput.innerHTML = `<div class="text-red-400 text-center py-4">
        <i class="fas fa-exclamation-triangle mr-2"></i>
        ${message}
    </div>`;
    
    // เพิ่มเอฟเฟกต์สั่น
    inputElement.classList.add('animate-shake');
    setTimeout(() => {
        inputElement.classList.remove('animate-shake');
    }, 500);
}

// เพิ่ม event listener สำหรับปุ่มรันโปรแกรม
document.getElementById('run-greeting-btn').addEventListener('click', runInteractiveDemo);

// รันอัตโนมัติเมื่อหน้าโหลดเสร็จ (optional)
document.addEventListener('DOMContentLoaded', function() {
    setTimeout(runInteractiveDemo, 1000);
});

// ===== ฟังก์ชันสำหรับบทที่ 4 =====
function runCalculatorDemo() {
    const x = parseFloat(document.getElementById('calc-x').value) || 0;
    const y = parseFloat(document.getElementById('calc-y').value) || 0;
    
    // ดึงตัวดำเนินการที่ผู้ใช้เลือกจริงๆ
    const activeOpBtn = document.querySelector('.calc-op-btn.active');
    const op = activeOpBtn ? activeOpBtn.dataset.op : '+';
    let symbol;
    
    // คำนวณผลลัพธ์ตามตัวดำเนินการที่เลือก
    let result;
    switch(op) {
        case '+':
            result = x + y;
            symbol = '+';
            break;
        case '-':
            result = x - y;
            symbol = '-';
            break;
        case '*':
            result = x * y;
            symbol = '×';
            break;
        case '/':
            result = y !== 0 ? (x / y).toFixed(2) : 'Error: หารด้วยศูนย์';
            symbol = '÷';
            break;
        default:
            result = x + y;
            symbol = '+';
    }
    
    // แสดงผลลัพธ์
    const outputDiv = document.getElementById('calculator-output');
    outputDiv.innerHTML = `
        <div class="text-center py-6">
            <div class="text-5xl font-bold text-primary-400 mb-2">${result}</div>
            <div class="text-xl text-slate-300">${x} ${symbol} ${y} = ${result}</div>
        </div>
    `;
    
    // อัปเดตข้อมูลจำลอง
    document.getElementById('sim-x').textContent = x;
    document.getElementById('sim-y').textContent = y;
    document.getElementById('sim-op').textContent = symbol;
    document.getElementById('sim-result').textContent = result;
}

// เพิ่ม event listeners สำหรับเครื่องคิดเลข
document.getElementById('run-calculator-btn').addEventListener('click', runCalculatorDemo);

// เลือกตัวดำเนินการ
document.querySelectorAll('.calc-op-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        // ลบสถานะ active จากปุ่มอื่นๆ
        document.querySelectorAll('.calc-op-btn').forEach(b => b.classList.remove('bg-primary-500', 'text-white', 'active'));
        
        // ตั้งค่าปุ่มปัจจุบันเป็น active
        this.classList.add('bg-primary-500', 'text-white', 'active');
        
        // รันการคำนวณใหม่
        runCalculatorDemo();
    });
});

// ตั้งค่าตัวดำเนินการเริ่มต้น
const defaultOpBtn = document.querySelector('[data-op="+"]');
if (defaultOpBtn) {
    defaultOpBtn.classList.add('bg-primary-500', 'text-white', 'active');
}

// เพิ่มในส่วน JavaScript ของบทที่ 4
document.getElementById('run-cast-btn').addEventListener('click', function() {
    const inputValue = document.getElementById('cast-value').value;
    const castType = document.getElementById('cast-type').value;
    const resultDiv = document.getElementById('cast-result');
    
    try {
        let result;
        let explanation;
        
        switch(castType) {
            case 'int':
                result = parseInt(inputValue);
                explanation = `การแปลงเป็น int จะตัดส่วนทศนิยมทิ้ง (ถ้ามี)`;
                break;
            case 'float':
                result = parseFloat(inputValue);
                explanation = `การแปลงเป็น float จะเก็บค่าทศนิยม`;
                break;
            // แก้ไขในส่วนของ case 'char'
            case 'char':
                // แปลงค่าเป็นตัวเลขก่อน
                const numValue = parseFloat(inputValue);
                
                if (isNaN(numValue)) {
                    result = "ไม่สามารถแปลงเป็นตัวเลขได้";
                    explanation = "กรุณาป้อนตัวเลขเพื่อแปลงเป็นตัวอักษร";
                } else {
                    // ตรวจสอบว่าเป็นจำนวนเต็ม
                    if (Number.isInteger(numValue)) {
                        // ตรวจสอบขอบเขตค่า ASCII
                        if (numValue >= 0 && numValue <= 65535) {
                            result = `'${String.fromCharCode(numValue)}'`;
                            explanation = `แปลงจากค่า ASCII ${numValue} เป็นตัวอักษร`;
                        } else {
                            result = "เกินขอบเขต";
                            explanation = "ค่า ASCII ต้องอยู่ระหว่าง 0 ถึง 65535";
                        }
                    } else {
                        // ถ้าไม่ใช่จำนวนเต็ม ให้ใช้ตัวอักษรตัวแรก
                        result = `'${inputValue.charAt(0)}'`;
                        explanation = "ใช้ตัวอักษรตัวแรกของข้อความ (ไม่ใช่ค่า ASCII)";
                    }
                }
                break;
            default:
                result = "ไม่รองรับชนิดนี้";
                explanation = "";
        }
        
        // ในส่วนแสดงผลลัพธ์
        resultDiv.innerHTML = `
            <div class="text-xl font-bold text-green-400 mb-2">${result}</div>
            <div class="text-slate-300 mb-3">${explanation}</div>
            
            ${result === "ไม่สามารถแปลงเป็นตัวเลขได้" || result === "เกินขอบเขต" 
                ? `<div class="bg-red-900 bg-opacity-30 p-2 rounded-lg text-red-200">
                    <i class="fas fa-exclamation-triangle mr-2"></i>
                    ${explanation}
                </div>`
                : ''}
            
            <div class="mt-3 text-sm text-slate-500">
                <i class="fas fa-info-circle mr-1"></i> 
                ค่าเริ่มต้น: <code>${inputValue}</code> → ชนิด: ${castType}
            </div>
            
            <!-- เพิ่มตัวอย่างค่า ASCII -->
            <div class="mt-3 text-xs text-slate-600">
                <p>ตัวอย่างค่า ASCII: 65='A', 66='B', 97='a', 98='b'</p>
            </div>
        `;
    } catch (error) {
        resultDiv.innerHTML = `
            <div class="text-red-400">
                <i class="fas fa-exclamation-triangle mr-2"></i>
                เกิดข้อผิดพลาด: ${error.message}
            </div>
        `;
    }
});

// ตัวอย่างการใช้งาน
document.addEventListener('DOMContentLoaded', function() {
    // ตั้งค่าเริ่มต้น
    document.getElementById('run-cast-btn').click();
});

// รันตัวอย่างเมื่อหน้าโหลดเสร็จ
document.addEventListener('DOMContentLoaded', function() {
    setTimeout(runCalculatorDemo, 1500);
});

// ===== ฟังก์ชันสำหรับบทที่ 5 =====
function runConditionalDemo() {
    const age = parseInt(document.getElementById('user-age').value) || 0;
    const movieRating = document.querySelector('input[name="movie"]:checked').value;
    
    // ตรวจสอบเงื่อนไข
    let resultText = '';
    let resultClass = '';
    let codeSimulation = '';
    
    // สร้างโค้ดจำลอง
    codeSimulation = `int age = ${age};\nstring movie = "${movieRating}";\n\n`;
    
    if (movieRating === "G") {
        resultText = "✅ คุณสามารถซื้อตั๋วหนังระดับ G ได้ทันที!";
        resultClass = "text-green-400";
        codeSimulation += `if (movie == "G") {\n    printf("คุณสามารถซื้อตั๋วหนังระดับ G ได้ทันที!");\n}`;
    } 
    else if (movieRating === "PG-13") {
        if (age >= 13) {
            resultText = "✅ คุณสามารถซื้อตั๋วหนังระดับ PG-13 ได้!";
            resultClass = "text-green-400";
            codeSimulation += `if (age >= 13) {\n    printf("คุณสามารถซื้อตั๋วหนังระดับ PG-13 ได้!");\n}`;
        } else {
            resultText = "❌ ขออภัย! คุณอายุไม่ถึง 13 ปี ไม่สามารถดูหนังระดับ PG-13 ได้";
            resultClass = "text-red-400";
            codeSimulation += `if (age >= 13) {\n    // อนุญาต\n} else {\n    printf("ขออภัย! คุณอายุไม่ถึง 13 ปี");\n}`;
        }
    } 
    else if (movieRating === "R") {
        if (age >= 18) {
            resultText = "✅ คุณสามารถซื้อตั๋วหนังระดับ R ได้!";
            resultClass = "text-green-400";
            codeSimulation += `if (age >= 18) {\n    printf("คุณสามารถซื้อตั๋วหนังระดับ R ได้!");\n}`;
        } else {
            resultText = "❌ ขออภัย! คุณอายุไม่ถึง 18 ปี ไม่สามารถดูหนังระดับ R ได้";
            resultClass = "text-red-400";
            codeSimulation += `if (age >= 18) {\n    // อนุญาต\n} else {\n    printf("ขออภัย! คุณอายุไม่ถึง 18 ปี");\n}`;
        }
    }
    
    // แสดงผลลัพธ์
    const outputDiv = document.getElementById('decision-output');
    outputDiv.innerHTML = `
        <div class="text-center py-6">
            <div class="text-3xl font-bold ${resultClass} mb-2">${resultText}</div>
            <div class="text-lg text-slate-300 mt-4">อายุ: ${age} ปี | ภาพยนตร์: ${movieRating}</div>
        </div>
    `;
    
    // แสดงโค้ดจำลอง
    document.getElementById('code-simulation').textContent = codeSimulation;
}

// เพิ่ม event listeners สำหรับบทที่ 5
document.getElementById('check-ticket-btn').addEventListener('click', runConditionalDemo);
document.querySelectorAll('input[name="movie"]').forEach(radio => {
    radio.addEventListener('change', runConditionalDemo);
});
document.getElementById('user-age').addEventListener('input', runConditionalDemo);

// รันตัวอย่างเมื่อหน้าโหลดเสร็จ
document.addEventListener('DOMContentLoaded', function() {
    setTimeout(runConditionalDemo, 1000);
});
 
// ===== ฟังก์ชันสำหรับบทที่ 6 =====
// แก้ไขฟังก์ชัน runLoopDemo()
function runLoopDemo() {
    const barkCount = parseInt(document.getElementById('bark-count').value);
    const loopType = document.querySelector('.loop-type-btn.active').dataset.loopType;
    const useBreak = document.getElementById('break-btn').classList.contains('active');
    const useContinue = document.getElementById('continue-btn').classList.contains('active');
    const controlPoint = parseInt(document.getElementById('control-point').value) || 3;
    
    // แสดงส่วนเงื่อนไขถ้าเลือก break/continue
    document.getElementById('loop-condition').style.display = 
        (useBreak || useContinue) ? 'block' : 'none';
    
    // สร้างผลลัพธ์และโค้ด
    let result = '';
    let code = '';
    let visualizationHTML = '';
    
    if (loopType === 'for') {
        // for loop
        code = `for (int i = 0; i < ${barkCount}; i++) {\n`;
        
        if (useContinue) {
            code += `    if (i == ${controlPoint - 1}) continue; // ข้ามรอบนี้\n`;
        }
        if (useBreak) {
            code += `    if (i == ${controlPoint}) break; // ออกจากลูป\n`;
        }
        
        code += `    printf("🐶 Woof! (รอบที่ %d\\n", i+1);\n}`;
        
        for (let i = 0; i < barkCount; i++) {
            // เงื่อนไข continue
            if (useContinue && i === controlPoint - 1) {
                visualizationHTML += `
                    <div class="bg-yellow-800 bg-opacity-50 p-2 rounded">
                        <div class="text-xs text-yellow-300 mb-1">รอบที่ ${i+1} (continue)</div>
                        <div class="text-lg">⏩</div>
                    </div>
                `;
                continue;
            }
            
            // เงื่อนไข break
            if (useBreak && i === controlPoint) {
                visualizationHTML += `
                    <div class="bg-red-800 bg-opacity-50 p-2 rounded">
                        <div class="text-xs text-red-300 mb-1">รอบที่ ${i+1} (break)</div>
                        <div class="text-lg">🛑</div>
                    </div>
                `;
                result += `🛑 หยุดการทำงานที่รอบที่ ${i+1}\n`;
                break;
            }
            
            visualizationHTML += `
                <div class="bg-blue-800 bg-opacity-30 p-2 rounded">
                    <div class="text-xs text-loop-highlight mb-1">รอบที่ ${i+1}</div>
                    <div class="text-lg">🐶</div>
                </div>
            `;
            result += `🐶 Woof! (รอบที่ ${i+1})\n`;
        }
    } else {
        // while loop
        code = `int i = 0;\nwhile (i < ${barkCount}) {\n    i++;\n\n`;
        
        if (useContinue) {
            code += `    if (i == ${controlPoint}) continue; // ข้ามรอบนี้\n`;
        }
        if (useBreak) {
            code += `    if (i == ${controlPoint + 1}) break; // ออกจากลูป\n`;
        }
        
        code += `    printf("🐶 Woof! (รอบที่ %d\\n", i);\n}`;
        
        let i = 0;
        while (i < barkCount) {
            i++;
            
            // เงื่อนไข continue
            if (useContinue && i === controlPoint) {
                visualizationHTML += `
                    <div class="bg-yellow-800 bg-opacity-50 p-2 rounded">
                        <div class="text-xs text-yellow-300 mb-1">รอบที่ ${i} (continue)</div>
                        <div class="text-lg">⏩</div>
                    </div>
                `;
                continue;
            }
            
            // เงื่อนไข break
            if (useBreak && i === controlPoint + 1) {
                visualizationHTML += `
                    <div class="bg-red-800 bg-opacity-50 p-2 rounded">
                        <div class="text-xs text-red-300 mb-1">รอบที่ ${i} (break)</div>
                        <div class="text-lg">🛑</div>
                    </div>
                `;
                result += `🛑 หยุดการทำงานที่รอบที่ ${i}\n`;
                break;
            }
            
            visualizationHTML += `
            <div class="bg-green-800 bg-opacity-30 p-2 rounded">
                <div class="text-xs text-loop-highlight mb-1">รอบที่ ${i}</div>
                <div class="text-lg">🐶</div>
            </div>
        `;
            result += `🐶 Woof! (รอบที่ ${i})\n`;
        }
    }
    
    // แสดงผลลัพธ์
    document.getElementById('bark-result').textContent = result || "⚠️ กรุณาเลือกจำนวนครั้งมากกว่า 0";
    document.getElementById('loop-code').textContent = code;
    document.getElementById('loop-visualization').innerHTML = visualizationHTML;
}

// เพิ่ม event listeners สำหรับ break/continue
document.getElementById('break-btn').addEventListener('click', function() {
    this.classList.toggle('active');
    this.classList.toggle('bg-red-500', this.classList.contains('active'));
    document.getElementById('continue-btn').classList.remove('active', 'bg-blue-500');
    runLoopDemo();
});

document.getElementById('continue-btn').addEventListener('click', function() {
    this.classList.toggle('active');
    this.classList.toggle('bg-blue-500', this.classList.contains('active'));
    document.getElementById('break-btn').classList.remove('active', 'bg-red-500');
    runLoopDemo();
});

// เมื่อค่า control point เปลี่ยน
document.getElementById('control-point').addEventListener('input', runLoopDemo);

// เพิ่ม event listeners สำหรับบทที่ 6
document.getElementById('bark-btn').addEventListener('click', runLoopDemo);
document.getElementById('bark-count').addEventListener('input', runLoopDemo);

// เลือกประเภทลูป
document.querySelectorAll('.loop-type-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        document.querySelectorAll('.loop-type-btn').forEach(b => b.classList.remove('active', 'bg-primary-500', 'text-white'));
        this.classList.add('active', 'bg-primary-500', 'text-white');
        runLoopDemo();
    });
});

// รันตัวอย่างเมื่อหน้าโหลดเสร็จ
document.addEventListener('DOMContentLoaded', function() {
    setTimeout(runLoopDemo, 1000);
});

// เพิ่มฟังก์ชันสลับธีม
// แก้ไขฟังก์ชันสลับธีมให้รองรับไอคอนเพิ่มเติม
// แก้ไขฟังก์ชันสลับธีม
document.getElementById('theme-toggle').addEventListener('click', function() {
    const body = document.body;
    const themeIcon = document.getElementById('theme-icon');
    
    // สลับธีม
    body.classList.toggle('light-mode');
    
    // อัปเดตไอคอนและ localStorage
    if (body.classList.contains('light-mode')) {
        themeIcon.classList.replace('fa-moon', 'fa-sun');
        localStorage.setItem('theme', 'light');
        
        // อัปเดตสีไอคอนในส่วนต่างๆ
        document.querySelectorAll('.nav-link i, .section-icon i').forEach(icon => {
            icon.style.color = 'white'; // ไอคอนใน sidebar ควรเป็นสีขาวเสมอ (เพราะพื้นหลังสี)
        });
    } else {
        themeIcon.classList.replace('fa-sun', 'fa-moon');
        localStorage.setItem('theme', 'dark');
        
        // คืนค่าสีไอคอน
        document.querySelectorAll('.nav-link i, .section-icon i').forEach(icon => {
            icon.style.color = '';
        });
    }
});

// ตรวจสอบธีมที่บันทึกไว้
document.addEventListener('DOMContentLoaded', function() {
    const savedTheme = localStorage.getItem('theme');
    const themeIcon = document.getElementById('theme-icon');
    
    if (savedTheme === 'light') {
        document.body.classList.add('light-mode');
        themeIcon.classList.replace('fa-moon', 'fa-sun');
        
        // อัปเดตสีไอคอนในส่วนต่างๆ สำหรับ light mode
        document.querySelectorAll('.nav-link i, .section-icon i').forEach(icon => {
            icon.style.color = 'white';
        });
    }
});

// ฟังก์ชันสำหรับเปลี่ยนสีไอคอนใน section-icon
function updateIconColors() {
    const isLightMode = document.body.classList.contains('light-mode');
    const icons = document.querySelectorAll('.section-icon i');
    
    icons.forEach(icon => {
        if (isLightMode) {
            icon.style.color = 'white';
        } else {
            icon.style.color = '';
        }
    });
}

// เรียกเมื่อโหลดหน้าและเมื่อเปลี่ยนธีม
updateIconColors();
document.getElementById('theme-toggle').addEventListener('click', updateIconColors);


</script>
</body>
</html>
